{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shrad\\\\OneDrive\\\\Desktop\\\\study\\\\garbage_segregation\\\\frontend\\\\src\\\\pages\\\\CollectWaste.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CollectWaste = ({\n  user\n}) => {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [filteredReports, setFilteredReports] = useState([]);\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [verificationImage, setVerificationImage] = useState(null);\n  const [verificationFile, setVerificationFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [fetchingReports, setFetchingReports] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showVerificationModal, setShowVerificationModal] = useState(false);\n  const [verificationResult, setVerificationResult] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Pagination state\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const limit = 10; // number of reports per page\n\n  const token = localStorage.getItem('token');\n\n  // Fetch reports from backend with proper pagination - now includes completed reports within 24h\n  const fetchReports = async (currentPage = 1) => {\n    try {\n      setFetchingReports(true);\n      setError(null);\n\n      // Fetch both pending and recently completed reports\n      const response = await fetch(`http://localhost:5000/api/reports?status=available&page=${currentPage}&limit=${limit}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setReports(data.reports || []);\n        setFilteredReports(data.reports || []);\n        setTotal(data.total || 0);\n        setTotalPages(data.total_pages || Math.ceil((data.total || 0) / limit));\n\n        // If current page has no data and it's not the first page, go to previous page\n        if ((data.reports || []).length === 0 && currentPage > 1) {\n          setPage(currentPage - 1);\n          fetchReports(currentPage - 1);\n        }\n      } else {\n        setError(data.error || \"Failed to load reports\");\n        setReports([]);\n        setFilteredReports([]);\n        setTotal(0);\n        setTotalPages(0);\n      }\n    } catch (err) {\n      console.error(\"Error fetching reports\", err);\n      setError(\"Network error: Unable to connect to server\");\n      setReports([]);\n      setFilteredReports([]);\n      setTotal(0);\n      setTotalPages(0);\n    } finally {\n      setFetchingReports(false);\n    }\n  };\n  useEffect(() => {\n    fetchReports(page);\n\n    // Set up interval to refresh reports every 30 seconds\n    const intervalId = setInterval(() => {\n      fetchReports(page);\n    }, 30000);\n    return () => clearInterval(intervalId);\n  }, [page, token]);\n  useEffect(() => {\n    filterReports();\n  }, [reports, searchQuery]);\n  const filterReports = () => {\n    if (!searchQuery.trim()) {\n      setFilteredReports(reports);\n      return;\n    }\n    const query = searchQuery.toLowerCase();\n    const filtered = reports.filter(report => report.address.toLowerCase().includes(query) || report.waste_type.toLowerCase().includes(query));\n    setFilteredReports(filtered);\n  };\n\n  // Pagination handlers with proper bounds checking\n  const handlePrevious = () => {\n    if (page > 1) {\n      const newPage = page - 1;\n      setPage(newPage);\n    }\n  };\n  const handleNext = () => {\n    if (page < totalPages) {\n      const newPage = page + 1;\n      setPage(newPage);\n    }\n  };\n\n  // Go to specific page\n  const goToPage = pageNum => {\n    if (pageNum >= 1 && pageNum <= totalPages) {\n      setPage(pageNum);\n    }\n  };\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      // Check file size (max 10MB)\n      if (file.size > 10 * 1024 * 1024) {\n        alert('File size must be less than 10MB');\n        return;\n      }\n      setVerificationFile(file);\n      const reader = new FileReader();\n      reader.onload = event => {\n        setVerificationImage(event.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSelectAndVerify = report => {\n    setSelectedReport(report);\n    setShowVerificationModal(true);\n    setVerificationImage(null);\n    setVerificationFile(null);\n    setVerificationResult(null);\n  };\n  const handleVerifyCollection = async () => {\n    if (!verificationFile) {\n      alert('Please upload an image first');\n      return;\n    }\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      formData.append('verification_image', verificationFile);\n      formData.append('report_id', selectedReport._id);\n      const response = await fetch('http://localhost:5000/api/collect-waste', {\n        method: 'POST',\n        headers: {\n          'Authorization': token\n        },\n        body: formData\n      });\n      const data = await response.json();\n      if (data.success && data.verified) {\n        // Success case - Image verification passed (confidence >= 60%)\n        setVerificationResult({\n          success: true,\n          verified: true,\n          message: data.message || \"Congratulations! Verification successful!\",\n          confidence: data.confidence,\n          points_earned: data.points_earned\n        });\n\n        // Show success alert\n        alert(`Congratulations! Verification successful! You earned ${data.points_earned} points`);\n\n        // Add notification if available\n        if (window.addNotification) {\n          window.addNotification({\n            title: 'Collection Completed',\n            message: `You earned ${data.points_earned} points for waste collection!`,\n            pointsEarned: data.points_earned,\n            type: 'success'\n          });\n        }\n\n        // Update user points if available\n        if (window.updateUserPoints) {\n          window.updateUserPoints(data.points_earned);\n        }\n\n        // Refresh the reports list after successful collection\n        setTimeout(() => {\n          fetchReports(page);\n          closeModal();\n        }, 2000);\n      } else {\n        // Failure case - Image verification failed (confidence < 60%)\n        setVerificationResult({\n          success: false,\n          verified: false,\n          message: data.message || 'Image verification failed! The uploaded image does not match the reported waste.',\n          confidence: data.confidence || 0\n        });\n      }\n    } catch (error) {\n      console.error('Error verifying collection:', error);\n      setVerificationResult({\n        success: false,\n        verified: false,\n        message: 'Network error occurred during verification. Please try again.',\n        confidence: 0\n      });\n    }\n    setLoading(false);\n  };\n  const closeModal = () => {\n    setShowVerificationModal(false);\n    setSelectedReport(null);\n    setVerificationImage(null);\n    setVerificationFile(null);\n    setVerificationResult(null);\n  };\n  const getStatusBadge = report => {\n    const statusStyles = {\n      'pending': {\n        bg: '#dbeafe',\n        color: '#1d4ed8',\n        text: 'Available'\n      },\n      'in_progress': {\n        bg: '#fef3c7',\n        color: '#d97706',\n        text: 'In Progress'\n      },\n      'completed': {\n        bg: '#dcfce7',\n        color: '#059669',\n        text: 'Completed'\n      }\n    };\n    const style = statusStyles[report.status] || statusStyles['pending'];\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        backgroundColor: style.bg,\n        color: style.color,\n        padding: '4px 12px',\n        borderRadius: '12px',\n        fontSize: '12px',\n        fontWeight: '500'\n      },\n      children: style.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this);\n  };\n  const getRewardInfo = report => {\n    // Calculate points based on waste type (you can modify this logic)\n    const pointsMap = {\n      'plastic': 10,\n      'paper': 8,\n      'cardboard': 12,\n      'vegetable': 6,\n      'fruitpeel': 6,\n      'garden': 8,\n      'trash': 5\n    };\n    const estimatedPoints = pointsMap[report.waste_type] || 10;\n    if (report.status === 'completed' && report.collected_by === (user === null || user === void 0 ? void 0 : user._id)) {\n      // Show actual points earned for completed collections by current user\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#fef3c7',\n          border: '1px solid #fcd34d',\n          borderRadius: '8px',\n          padding: '12px',\n          marginTop: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            fontSize: '14px',\n            fontWeight: '600',\n            color: '#d97706',\n            marginBottom: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83C\\uDFC6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Reward Earned!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            color: '#92400e'\n          },\n          children: [\"You earned \", report.points_earned || estimatedPoints, \" points for collecting this waste\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            color: '#92400e',\n            marginTop: '4px'\n          },\n          children: [\"Collected on: \", formatDate(report.collected_at || report.updated_at)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this);\n    } else if (report.status === 'completed') {\n      // Show for completed collections by others\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#f3f4f6',\n          border: '1px solid #d1d5db',\n          borderRadius: '8px',\n          padding: '12px',\n          marginTop: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            fontSize: '14px',\n            fontWeight: '600',\n            color: '#6b7280',\n            marginBottom: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Already Collected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            color: '#6b7280'\n          },\n          children: \"This waste was collected by another user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this);\n    } else {\n      // Show potential reward for pending reports\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#e0f2fe',\n          border: '1px solid #81d4fa',\n          borderRadius: '8px',\n          padding: '12px',\n          marginTop: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            fontSize: '14px',\n            fontWeight: '600',\n            color: '#0277bd',\n            marginBottom: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCB0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Potential Reward\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            color: '#01579b'\n          },\n          children: [\"Earn up to \", estimatedPoints, \" points by collecting this waste\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const getActionButton = report => {\n    if (report.status === 'completed') {\n      if (report.collected_by === (user === null || user === void 0 ? void 0 : user._id)) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            backgroundColor: '#dcfce7',\n            color: '#059669',\n            padding: '8px 16px',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: '600',\n            border: '2px solid #10b981'\n          },\n          children: \"\\u2713 Collected by You\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            backgroundColor: '#f3f4f6',\n            color: '#6b7280',\n            padding: '8px 16px',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: '500'\n          },\n          children: \"Already Collected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this);\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation();\n        handleSelectAndVerify(report);\n      },\n      style: {\n        backgroundColor: '#3b82f6',\n        color: 'white',\n        border: 'none',\n        borderRadius: '8px',\n        padding: '8px 16px',\n        fontSize: '14px',\n        fontWeight: '500',\n        cursor: 'pointer',\n        transition: 'background-color 0.2s'\n      },\n      onMouseOver: e => e.target.style.backgroundColor = '#2563eb',\n      onMouseOut: e => e.target.style.backgroundColor = '#3b82f6',\n      children: \"Select & Verify\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this);\n  };\n  const formatDate = dateString => {\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return dateString;\n    }\n  };\n  const isRecentlyCompleted = report => {\n    if (report.status !== 'completed') return false;\n    const completedDate = new Date(report.collected_at || report.updated_at);\n    const now = new Date();\n    const hoursDiff = (now - completedDate) / (1000 * 60 * 60);\n    return hoursDiff <= 24; // Within 24 hours\n  };\n  if (fetchingReports) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center',\n        fontFamily: 'Arial, sans-serif'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'inline-block',\n          width: '30px',\n          height: '30px',\n          border: '3px solid #f3f3f3',\n          borderTop: '3px solid #10b981',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite',\n          marginBottom: '20px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading available reports...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif',\n      backgroundColor: '#f5f5f5',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n        color: 'white',\n        padding: '30px 20px',\n        textAlign: 'center',\n        borderRadius: '12px',\n        marginBottom: '25px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          margin: 0,\n          fontSize: '26px',\n          fontWeight: 'bold'\n        },\n        children: \"Collect Waste Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '8px 0 0 0',\n          opacity: 0.9\n        },\n        children: \"Help clean your community and earn rewards by collecting reported waste.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        padding: '12px 16px',\n        marginBottom: '20px',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by address or waste type...\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        style: {\n          width: '100%',\n          border: 'none',\n          outline: 'none',\n          fontSize: '16px',\n          backgroundColor: 'transparent',\n          boxSizing: 'border-box'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        padding: '16px',\n        marginBottom: '20px',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '14px',\n            color: '#6b7280'\n          },\n          children: [\"Total Reports: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '14px',\n            color: '#6b7280'\n          },\n          children: [\"Page \", page, \" of \", totalPages || 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#fef2f2',\n        border: '1px solid #fecaca',\n        color: '#dc2626',\n        padding: '12px 16px',\n        borderRadius: '8px',\n        marginBottom: '20px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: filteredReports.length === 0 && !error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          padding: '40px 20px',\n          textAlign: 'center',\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '48px',\n            marginBottom: '16px'\n          },\n          children: \"\\uD83D\\uDCED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 8px 0',\n            color: '#374151'\n          },\n          children: \"No Reports Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            color: '#6b7280'\n          },\n          children: total === 0 ? \"There are currently no pending waste reports to collect.\" : \"No reports match your search criteria.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 11\n      }, this) : filteredReports.map(report => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          padding: '20px',\n          marginBottom: '12px',\n          boxShadow: report.status === 'completed' && report.collected_by === (user === null || user === void 0 ? void 0 : user._id) ? '0 4px 12px rgba(16, 185, 129, 0.2)' : '0 1px 3px rgba(0,0,0,0.1)',\n          border: report.status === 'completed' && report.collected_by === (user === null || user === void 0 ? void 0 : user._id) ? '2px solid #10b981' : '1px solid #e5e7eb',\n          transition: 'transform 0.2s, box-shadow 0.2s',\n          position: 'relative'\n        },\n        onMouseOver: e => {\n          e.currentTarget.style.transform = 'translateY(-2px)';\n          e.currentTarget.style.boxShadow = report.status === 'completed' && report.collected_by === (user === null || user === void 0 ? void 0 : user._id) ? '0 8px 20px rgba(16, 185, 129, 0.3)' : '0 4px 12px rgba(0,0,0,0.15)';\n        },\n        onMouseOut: e => {\n          e.currentTarget.style.transform = 'translateY(0)';\n          e.currentTarget.style.boxShadow = report.status === 'completed' && report.collected_by === (user === null || user === void 0 ? void 0 : user._id) ? '0 4px 12px rgba(16, 185, 129, 0.2)' : '0 1px 3px rgba(0,0,0,0.1)';\n        },\n        children: [isRecentlyCompleted(report) && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: '10px',\n            right: '10px',\n            backgroundColor: '#fef3c7',\n            color: '#d97706',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '10px',\n            fontWeight: '600'\n          },\n          children: \"RECENTLY COMPLETED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '18px'\n              },\n              children: \"\\uD83D\\uDCCD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: '600',\n                fontSize: '16px',\n                color: '#374151'\n              },\n              children: report.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 17\n          }, this), getStatusBadge(report)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '16px',\n            marginBottom: '16px',\n            fontSize: '14px',\n            color: '#6b7280'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Type: \", report.waste_type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2696\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Amount: \", report.estimated_amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDCC5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Reported: \", formatDate(report.created_at)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 17\n          }, this), report.confidence && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83C\\uDFAF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Confidence: \", Math.round(report.confidence * 100), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 15\n        }, this), getRewardInfo(report), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            marginTop: '16px'\n          },\n          children: getActionButton(report)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 15\n        }, this)]\n      }, report._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 7\n    }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        gap: \"8px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"wrap\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevious,\n        disabled: page === 1,\n        style: {\n          padding: '10px 16px',\n          backgroundColor: page === 1 ? '#f3f4f6' : '#3b82f6',\n          color: page === 1 ? '#9ca3af' : 'white',\n          border: 'none',\n          borderRadius: '6px',\n          cursor: page === 1 ? 'not-allowed' : 'pointer',\n          fontSize: '14px',\n          fontWeight: '500'\n        },\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 11\n      }, this), Array.from({\n        length: Math.min(5, totalPages)\n      }, (_, i) => {\n        let pageNum;\n        if (totalPages <= 5) {\n          pageNum = i + 1;\n        } else if (page <= 3) {\n          pageNum = i + 1;\n        } else if (page >= totalPages - 2) {\n          pageNum = totalPages - 4 + i;\n        } else {\n          pageNum = page - 2 + i;\n        }\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => goToPage(pageNum),\n          style: {\n            padding: '10px 12px',\n            backgroundColor: page === pageNum ? '#3b82f6' : 'white',\n            color: page === pageNum ? 'white' : '#374151',\n            border: '1px solid #d1d5db',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '500'\n          },\n          children: pageNum\n        }, pageNum, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 15\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNext,\n        disabled: page >= totalPages,\n        style: {\n          padding: '10px 16px',\n          backgroundColor: page >= totalPages ? '#f3f4f6' : '#3b82f6',\n          color: page >= totalPages ? '#9ca3af' : 'white',\n          border: 'none',\n          borderRadius: '6px',\n          cursor: page >= totalPages ? 'not-allowed' : 'pointer',\n          fontSize: '14px',\n          fontWeight: '500'\n        },\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 9\n    }, this), showVerificationModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: 1000,\n        overflow: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"white\",\n          borderRadius: \"0 0 12px 12px\",\n          padding: \"30px\",\n          width: \"100%\",\n          maxWidth: \"600px\",\n          margin: \"0 auto\",\n          marginTop: \"60px\",\n          minHeight: \"auto\",\n          position: 'relative',\n          top: 0,\n          boxShadow: \"0 4px 20px rgba(0,0,0,0.3)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: \"0 10px 16px 0\",\n            fontSize: \"20px\",\n            fontWeight: \"600\",\n            textAlign: \"center\"\n          },\n          children: \"Verify Waste Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 13\n        }, this), selectedReport && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: \"#f8fafc\",\n            padding: \"16px\",\n            borderRadius: \"8px\",\n            marginBottom: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"14px\",\n              color: \"#374151\",\n              marginBottom: \"8px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 19\n            }, this), \" \", selectedReport.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"14px\",\n              color: \"#374151\",\n              marginBottom: \"8px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Waste Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this), \" \", selectedReport.waste_type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"14px\",\n              color: \"#374151\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 19\n            }, this), \" \", selectedReport.estimated_amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 15\n        }, this), !verificationResult ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: \"0 0 20px 0\",\n              color: \"#6b7280\",\n              fontSize: \"14px\",\n              textAlign: \"center\"\n            },\n            children: \"Upload a photo of the collected waste to verify and earn your reward. The image will be compared with the original report.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"24px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: \"block\",\n                fontSize: \"14px\",\n                fontWeight: \"500\",\n                marginBottom: \"8px\",\n                color: \"#374151\"\n              },\n              children: \"Upload Verification Image *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: \"2px dashed #d1d5db\",\n                borderRadius: \"8px\",\n                padding: \"40px 20px\",\n                textAlign: \"center\",\n                cursor: \"pointer\",\n                backgroundColor: verificationImage ? \"#f0f9ff\" : \"#f9fafb\",\n                transition: \"all 0.2s\"\n              },\n              onClick: () => document.getElementById(\"verification-upload\").click(),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"48px\",\n                  marginBottom: \"12px\"\n                },\n                children: \"\\uD83D\\uDCE4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"#374151\",\n                  fontSize: \"16px\",\n                  fontWeight: \"500\",\n                  marginBottom: \"4px\"\n                },\n                children: verificationImage ? \"Image selected - Click to change\" : \"Click to upload image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"#9ca3af\",\n                  fontSize: \"12px\"\n                },\n                children: \"PNG, JPG, GIF up to 10MB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"verification-upload\",\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleImageUpload,\n                style: {\n                  display: \"none\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 19\n            }, this), verificationImage && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: \"16px\",\n                textAlign: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: verificationImage,\n                alt: \"Verification preview\",\n                style: {\n                  maxWidth: \"100%\",\n                  width: \"300px\",\n                  height: \"200px\",\n                  objectFit: \"cover\",\n                  borderRadius: \"8px\",\n                  border: \"1px solid #e5e7eb\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: \"12px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closeModal,\n              style: {\n                backgroundColor: \"#f3f4f6\",\n                color: \"#374151\",\n                border: \"none\",\n                borderRadius: \"8px\",\n                padding: \"12px 24px\",\n                fontSize: \"14px\",\n                fontWeight: \"500\",\n                cursor: \"pointer\",\n                flex: 1\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleVerifyCollection,\n              disabled: !verificationFile || loading,\n              style: {\n                backgroundColor: !verificationFile || loading ? \"#9ca3af\" : \"#10b981\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"8px\",\n                padding: \"12px 24px\",\n                fontSize: \"14px\",\n                fontWeight: \"500\",\n                cursor: !verificationFile || loading ? \"not-allowed\" : \"pointer\",\n                flex: 2\n              },\n              children: loading ? \"Verifying...\" : \"Verify Collection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 913,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: verificationResult.verified ? \"#dcfce7\" : \"#fef2f2\",\n              color: verificationResult.verified ? \"#065f46\" : \"#dc2626\",\n              borderRadius: \"50%\",\n              width: \"80px\",\n              height: \"80px\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              fontSize: \"32px\",\n              margin: \"0 auto 20px\"\n            },\n            children: verificationResult.verified ? \"✓\" : \"✗\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 935,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: \"0 0 12px 0\",\n              color: verificationResult.verified ? \"#065f46\" : \"#dc2626\",\n              fontSize: \"18px\"\n            },\n            children: verificationResult.verified ? \"Verification Successful!\" : \"Verification Failed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: \"0 0 16px 0\",\n              color: \"#6b7280\",\n              fontSize: \"14px\"\n            },\n            children: verificationResult.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 17\n          }, this), verificationResult.confidence > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: \"0 0 16px 0\",\n              color: \"#6b7280\",\n              fontSize: \"14px\"\n            },\n            children: [\"Confidence: \", Math.round(verificationResult.confidence * 100), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 977,\n            columnNumber: 19\n          }, this), verificationResult.verified && verificationResult.points_earned && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: \"#fef3c7\",\n              border: \"1px solid #fcd34d\",\n              borderRadius: \"8px\",\n              padding: \"16px\",\n              marginBottom: \"20px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"18px\",\n                fontWeight: \"600\",\n                color: \"#d97706\",\n                marginBottom: \"4px\"\n              },\n              children: \"\\uD83C\\uDF89 Congratulations!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 998,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"14px\",\n                color: \"#92400e\"\n              },\n              children: [\"You earned \", verificationResult.points_earned, \" points!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 989,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeModal,\n            style: {\n              backgroundColor: \"#3b82f6\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"8px\",\n              padding: \"12px 32px\",\n              fontSize: \"14px\",\n              fontWeight: \"500\",\n              cursor: \"pointer\"\n            },\n            children: verificationResult.verified ? \"Great!\" : \"Try Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 768,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 478,\n    columnNumber: 5\n  }, this);\n};\n_s(CollectWaste, \"91RWlyH+31unkYtkiQyC/sEdt6w=\");\n_c = CollectWaste;\nexport default CollectWaste;\nvar _c;\n$RefreshReg$(_c, \"CollectWaste\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","CollectWaste","user","_s","reports","setReports","filteredReports","setFilteredReports","selectedReport","setSelectedReport","verificationImage","setVerificationImage","verificationFile","setVerificationFile","loading","setLoading","fetchingReports","setFetchingReports","searchQuery","setSearchQuery","showVerificationModal","setShowVerificationModal","verificationResult","setVerificationResult","error","setError","page","setPage","total","setTotal","totalPages","setTotalPages","limit","token","localStorage","getItem","fetchReports","currentPage","response","fetch","headers","Authorization","data","json","success","total_pages","Math","ceil","length","err","console","intervalId","setInterval","clearInterval","filterReports","trim","query","toLowerCase","filtered","filter","report","address","includes","waste_type","handlePrevious","newPage","handleNext","goToPage","pageNum","handleImageUpload","e","file","target","files","size","alert","reader","FileReader","onload","event","result","readAsDataURL","handleSelectAndVerify","handleVerifyCollection","formData","FormData","append","_id","method","body","verified","message","confidence","points_earned","window","addNotification","title","pointsEarned","type","updateUserPoints","setTimeout","closeModal","getStatusBadge","statusStyles","bg","color","text","style","status","backgroundColor","padding","borderRadius","fontSize","fontWeight","children","fileName","_jsxFileName","lineNumber","columnNumber","getRewardInfo","pointsMap","estimatedPoints","collected_by","border","marginTop","display","alignItems","gap","marginBottom","formatDate","collected_at","updated_at","getActionButton","onClick","stopPropagation","cursor","transition","onMouseOver","onMouseOut","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","isRecentlyCompleted","completedDate","now","hoursDiff","textAlign","fontFamily","width","height","borderTop","animation","minHeight","background","margin","opacity","boxShadow","placeholder","value","onChange","outline","boxSizing","justifyContent","map","position","currentTarget","transform","top","right","gridTemplateColumns","estimated_amount","created_at","round","flexWrap","disabled","Array","from","min","_","i","left","bottom","zIndex","overflow","maxWidth","document","getElementById","click","id","accept","src","alt","objectFit","flex","_c","$RefreshReg$"],"sources":["C:/Users/shrad/OneDrive/Desktop/study/garbage_segregation/frontend/src/pages/CollectWaste.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst CollectWaste = ({ user }) => {\r\n  const [reports, setReports] = useState([]);\r\n  const [filteredReports, setFilteredReports] = useState([]);\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [verificationImage, setVerificationImage] = useState(null);\r\n  const [verificationFile, setVerificationFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fetchingReports, setFetchingReports] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showVerificationModal, setShowVerificationModal] = useState(false);\r\n  const [verificationResult, setVerificationResult] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Pagination state\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const limit = 10; // number of reports per page\r\n\r\n  const token = localStorage.getItem('token');\r\n\r\n  // Fetch reports from backend with proper pagination - now includes completed reports within 24h\r\n  const fetchReports = async (currentPage = 1) => {\r\n    try {\r\n      setFetchingReports(true);\r\n      setError(null);\r\n      \r\n      // Fetch both pending and recently completed reports\r\n      const response = await fetch(\r\n        `http://localhost:5000/api/reports?status=available&page=${currentPage}&limit=${limit}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setReports(data.reports || []);\r\n        setFilteredReports(data.reports || []);\r\n        setTotal(data.total || 0);\r\n        setTotalPages(data.total_pages || Math.ceil((data.total || 0) / limit));\r\n        \r\n        // If current page has no data and it's not the first page, go to previous page\r\n        if ((data.reports || []).length === 0 && currentPage > 1) {\r\n          setPage(currentPage - 1);\r\n          fetchReports(currentPage - 1);\r\n        }\r\n      } else {\r\n        setError(data.error || \"Failed to load reports\");\r\n        setReports([]);\r\n        setFilteredReports([]);\r\n        setTotal(0);\r\n        setTotalPages(0);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching reports\", err);\r\n      setError(\"Network error: Unable to connect to server\");\r\n      setReports([]);\r\n      setFilteredReports([]);\r\n      setTotal(0);\r\n      setTotalPages(0);\r\n    } finally {\r\n      setFetchingReports(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchReports(page);\r\n    \r\n    // Set up interval to refresh reports every 30 seconds\r\n    const intervalId = setInterval(() => {\r\n      fetchReports(page);\r\n    }, 30000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [page, token]);\r\n\r\n  useEffect(() => {\r\n    filterReports();\r\n  }, [reports, searchQuery]);\r\n\r\n  const filterReports = () => {\r\n    if (!searchQuery.trim()) {\r\n      setFilteredReports(reports);\r\n      return;\r\n    }\r\n\r\n    const query = searchQuery.toLowerCase();\r\n    const filtered = reports.filter(\r\n      report =>\r\n        report.address.toLowerCase().includes(query) ||\r\n        report.waste_type.toLowerCase().includes(query)\r\n    );\r\n    setFilteredReports(filtered);\r\n  };\r\n\r\n  // Pagination handlers with proper bounds checking\r\n  const handlePrevious = () => {\r\n    if (page > 1) {\r\n      const newPage = page - 1;\r\n      setPage(newPage);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (page < totalPages) {\r\n      const newPage = page + 1;\r\n      setPage(newPage);\r\n    }\r\n  };\r\n\r\n  // Go to specific page\r\n  const goToPage = (pageNum) => {\r\n    if (pageNum >= 1 && pageNum <= totalPages) {\r\n      setPage(pageNum);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = e => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      // Check file size (max 10MB)\r\n      if (file.size > 10 * 1024 * 1024) {\r\n        alert('File size must be less than 10MB');\r\n        return;\r\n      }\r\n      \r\n      setVerificationFile(file);\r\n      const reader = new FileReader();\r\n      reader.onload = event => {\r\n        setVerificationImage(event.target.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSelectAndVerify = report => {\r\n    setSelectedReport(report);\r\n    setShowVerificationModal(true);\r\n    setVerificationImage(null);\r\n    setVerificationFile(null);\r\n    setVerificationResult(null);\r\n  };\r\n\r\n  const handleVerifyCollection = async () => {\r\n    if (!verificationFile) {\r\n      alert('Please upload an image first');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const formData = new FormData();\r\n      formData.append('verification_image', verificationFile);\r\n      formData.append('report_id', selectedReport._id);\r\n\r\n      const response = await fetch('http://localhost:5000/api/collect-waste', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': token,\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success && data.verified) {\r\n        // Success case - Image verification passed (confidence >= 60%)\r\n        setVerificationResult({\r\n          success: true,\r\n          verified: true,\r\n          message: data.message || \"Congratulations! Verification successful!\",\r\n          confidence: data.confidence,\r\n          points_earned: data.points_earned\r\n        });\r\n\r\n        // Show success alert\r\n        alert(`Congratulations! Verification successful! You earned ${data.points_earned} points`);\r\n\r\n        // Add notification if available\r\n        if (window.addNotification) {\r\n          window.addNotification({\r\n            title: 'Collection Completed',\r\n            message: `You earned ${data.points_earned} points for waste collection!`,\r\n            pointsEarned: data.points_earned,\r\n            type: 'success'\r\n          });\r\n        }\r\n\r\n        // Update user points if available\r\n        if (window.updateUserPoints) {\r\n          window.updateUserPoints(data.points_earned);\r\n        }\r\n\r\n        // Refresh the reports list after successful collection\r\n        setTimeout(() => {\r\n          fetchReports(page);\r\n          closeModal();\r\n        }, 2000);\r\n\r\n      } else {\r\n        // Failure case - Image verification failed (confidence < 60%)\r\n        setVerificationResult({\r\n          success: false,\r\n          verified: false,\r\n          message: data.message || 'Image verification failed! The uploaded image does not match the reported waste.',\r\n          confidence: data.confidence || 0\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verifying collection:', error);\r\n      setVerificationResult({\r\n        success: false,\r\n        verified: false,\r\n        message: 'Network error occurred during verification. Please try again.',\r\n        confidence: 0\r\n      });\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowVerificationModal(false);\r\n    setSelectedReport(null);\r\n    setVerificationImage(null);\r\n    setVerificationFile(null);\r\n    setVerificationResult(null);\r\n  };\r\n\r\n  const getStatusBadge = report => {\r\n    const statusStyles = {\r\n      'pending': { bg: '#dbeafe', color: '#1d4ed8', text: 'Available' },\r\n      'in_progress': { bg: '#fef3c7', color: '#d97706', text: 'In Progress' },\r\n      'completed': { bg: '#dcfce7', color: '#059669', text: 'Completed' },\r\n    };\r\n\r\n    const style = statusStyles[report.status] || statusStyles['pending'];\r\n\r\n    return (\r\n      <span\r\n        style={{\r\n          backgroundColor: style.bg,\r\n          color: style.color,\r\n          padding: '4px 12px',\r\n          borderRadius: '12px',\r\n          fontSize: '12px',\r\n          fontWeight: '500',\r\n        }}\r\n      >\r\n        {style.text}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getRewardInfo = report => {\r\n    // Calculate points based on waste type (you can modify this logic)\r\n    const pointsMap = {\r\n      'plastic': 10,\r\n      'paper': 8,\r\n      'cardboard': 12,\r\n      'vegetable': 6,\r\n      'fruitpeel': 6,\r\n      'garden': 8,\r\n      'trash': 5\r\n    };\r\n    \r\n    const estimatedPoints = pointsMap[report.waste_type] || 10;\r\n    \r\n    if (report.status === 'completed' && report.collected_by === user?._id) {\r\n      // Show actual points earned for completed collections by current user\r\n      return (\r\n        <div style={{\r\n          backgroundColor: '#fef3c7',\r\n          border: '1px solid #fcd34d',\r\n          borderRadius: '8px',\r\n          padding: '12px',\r\n          marginTop: '12px'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            color: '#d97706',\r\n            marginBottom: '4px'\r\n          }}>\r\n            <span>🏆</span>\r\n            <span>Reward Earned!</span>\r\n          </div>\r\n          <div style={{ fontSize: '12px', color: '#92400e' }}>\r\n            You earned {report.points_earned || estimatedPoints} points for collecting this waste\r\n          </div>\r\n          <div style={{ fontSize: '12px', color: '#92400e', marginTop: '4px' }}>\r\n            Collected on: {formatDate(report.collected_at || report.updated_at)}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (report.status === 'completed') {\r\n      // Show for completed collections by others\r\n      return (\r\n        <div style={{\r\n          backgroundColor: '#f3f4f6',\r\n          border: '1px solid #d1d5db',\r\n          borderRadius: '8px',\r\n          padding: '12px',\r\n          marginTop: '12px'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            color: '#6b7280',\r\n            marginBottom: '4px'\r\n          }}>\r\n            <span>✓</span>\r\n            <span>Already Collected</span>\r\n          </div>\r\n          <div style={{ fontSize: '12px', color: '#6b7280' }}>\r\n            This waste was collected by another user\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      // Show potential reward for pending reports\r\n      return (\r\n        <div style={{\r\n          backgroundColor: '#e0f2fe',\r\n          border: '1px solid #81d4fa',\r\n          borderRadius: '8px',\r\n          padding: '12px',\r\n          marginTop: '12px'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            fontSize: '14px',\r\n            fontWeight: '600',\r\n            color: '#0277bd',\r\n            marginBottom: '4px'\r\n          }}>\r\n            <span>💰</span>\r\n            <span>Potential Reward</span>\r\n          </div>\r\n          <div style={{ fontSize: '12px', color: '#01579b' }}>\r\n            Earn up to {estimatedPoints} points by collecting this waste\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const getActionButton = report => {\r\n    if (report.status === 'completed') {\r\n      if (report.collected_by === user?._id) {\r\n        return (\r\n          <span\r\n            style={{\r\n              backgroundColor: '#dcfce7',\r\n              color: '#059669',\r\n              padding: '8px 16px',\r\n              borderRadius: '8px',\r\n              fontSize: '14px',\r\n              fontWeight: '600',\r\n              border: '2px solid #10b981'\r\n            }}\r\n          >\r\n            ✓ Collected by You\r\n          </span>\r\n        );\r\n      } else {\r\n        return (\r\n          <span\r\n            style={{\r\n              backgroundColor: '#f3f4f6',\r\n              color: '#6b7280',\r\n              padding: '8px 16px',\r\n              borderRadius: '8px',\r\n              fontSize: '14px',\r\n              fontWeight: '500',\r\n            }}\r\n          >\r\n            Already Collected\r\n          </span>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <button\r\n        onClick={e => {\r\n          e.stopPropagation();\r\n          handleSelectAndVerify(report);\r\n        }}\r\n        style={{\r\n          backgroundColor: '#3b82f6',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '8px',\r\n          padding: '8px 16px',\r\n          fontSize: '14px',\r\n          fontWeight: '500',\r\n          cursor: 'pointer',\r\n          transition: 'background-color 0.2s'\r\n        }}\r\n        onMouseOver={e => e.target.style.backgroundColor = '#2563eb'}\r\n        onMouseOut={e => e.target.style.backgroundColor = '#3b82f6'}\r\n      >\r\n        Select & Verify\r\n      </button>\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  const isRecentlyCompleted = (report) => {\r\n    if (report.status !== 'completed') return false;\r\n    \r\n    const completedDate = new Date(report.collected_at || report.updated_at);\r\n    const now = new Date();\r\n    const hoursDiff = (now - completedDate) / (1000 * 60 * 60);\r\n    \r\n    return hoursDiff <= 24; // Within 24 hours\r\n  };\r\n\r\n  if (fetchingReports) {\r\n    return (\r\n      <div style={{ padding: '40px', textAlign: 'center', fontFamily: 'Arial, sans-serif' }}>\r\n        <div\r\n          style={{\r\n            display: 'inline-block',\r\n            width: '30px',\r\n            height: '30px',\r\n            border: '3px solid #f3f3f3',\r\n            borderTop: '3px solid #10b981',\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite',\r\n            marginBottom: '20px',\r\n          }}\r\n        ></div>\r\n        <p>Loading available reports...</p>\r\n        <style>\r\n          {`\r\n            @keyframes spin {\r\n              0% { transform: rotate(0deg); }\r\n              100% { transform: rotate(360deg); }\r\n            }\r\n          `}\r\n        </style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif', backgroundColor: '#f5f5f5', minHeight: '100vh' }}>\r\n      {/* Header Section */}\r\n      <div style={{\r\n        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n        color: 'white',\r\n        padding: '30px 20px',\r\n        textAlign: 'center',\r\n        borderRadius: '12px',\r\n        marginBottom: '25px'\r\n      }}>\r\n        <h1 style={{ margin: 0, fontSize: '26px', fontWeight: 'bold' }}>Collect Waste Reports</h1>\r\n        <p style={{ margin: '8px 0 0 0', opacity: 0.9 }}>\r\n          Help clean your community and earn rewards by collecting reported waste.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Search Bar */}\r\n      <div\r\n        style={{\r\n          backgroundColor: 'white',\r\n          borderRadius: '8px',\r\n          padding: '12px 16px',\r\n          marginBottom: '20px',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n        }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by address or waste type...\"\r\n          value={searchQuery}\r\n          onChange={e => setSearchQuery(e.target.value)}\r\n          style={{ \r\n            width: '100%', \r\n            border: 'none', \r\n            outline: 'none', \r\n            fontSize: '16px', \r\n            backgroundColor: 'transparent',\r\n            boxSizing: 'border-box'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Reports Stats */}\r\n      <div style={{\r\n        backgroundColor: 'white',\r\n        borderRadius: '8px',\r\n        padding: '16px',\r\n        marginBottom: '20px',\r\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <div>\r\n          <span style={{ fontSize: '14px', color: '#6b7280' }}>\r\n            Total Reports: <strong>{total}</strong>\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <span style={{ fontSize: '14px', color: '#6b7280' }}>\r\n            Page {page} of {totalPages || 1}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div style={{\r\n          backgroundColor: '#fef2f2',\r\n          border: '1px solid #fecaca',\r\n          color: '#dc2626',\r\n          padding: '12px 16px',\r\n          borderRadius: '8px',\r\n          marginBottom: '20px'\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Reports List */}\r\n      <div style={{ marginBottom: '20px' }}>\r\n        {filteredReports.length === 0 && !error ? (\r\n          <div style={{\r\n            backgroundColor: 'white',\r\n            borderRadius: '8px',\r\n            padding: '40px 20px',\r\n            textAlign: 'center',\r\n            boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\r\n          }}>\r\n            <div style={{ fontSize: '48px', marginBottom: '16px' }}>📭</div>\r\n            <h3 style={{ margin: '0 0 8px 0', color: '#374151' }}>No Reports Available</h3>\r\n            <p style={{ margin: 0, color: '#6b7280' }}>\r\n              {total === 0 \r\n                ? \"There are currently no pending waste reports to collect.\"\r\n                : \"No reports match your search criteria.\"\r\n              }\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          filteredReports.map(report => (\r\n            <div\r\n              key={report._id}\r\n              style={{\r\n                backgroundColor: 'white',\r\n                borderRadius: '8px',\r\n                padding: '20px',\r\n                marginBottom: '12px',\r\n                boxShadow: report.status === 'completed' && report.collected_by === user?._id \r\n                  ? '0 4px 12px rgba(16, 185, 129, 0.2)' \r\n                  : '0 1px 3px rgba(0,0,0,0.1)',\r\n                border: report.status === 'completed' && report.collected_by === user?._id \r\n                  ? '2px solid #10b981' \r\n                  : '1px solid #e5e7eb',\r\n                transition: 'transform 0.2s, box-shadow 0.2s',\r\n                position: 'relative'\r\n              }}\r\n              onMouseOver={e => {\r\n                e.currentTarget.style.transform = 'translateY(-2px)';\r\n                e.currentTarget.style.boxShadow = report.status === 'completed' && report.collected_by === user?._id \r\n                  ? '0 8px 20px rgba(16, 185, 129, 0.3)'\r\n                  : '0 4px 12px rgba(0,0,0,0.15)';\r\n              }}\r\n              onMouseOut={e => {\r\n                e.currentTarget.style.transform = 'translateY(0)';\r\n                e.currentTarget.style.boxShadow = report.status === 'completed' && report.collected_by === user?._id \r\n                  ? '0 4px 12px rgba(16, 185, 129, 0.2)'\r\n                  : '0 1px 3px rgba(0,0,0,0.1)';\r\n              }}\r\n            >\r\n              {/* Show recently completed badge */}\r\n              {isRecentlyCompleted(report) && (\r\n                <div style={{\r\n                  position: 'absolute',\r\n                  top: '10px',\r\n                  right: '10px',\r\n                  backgroundColor: '#fef3c7',\r\n                  color: '#d97706',\r\n                  padding: '4px 8px',\r\n                  borderRadius: '4px',\r\n                  fontSize: '10px',\r\n                  fontWeight: '600'\r\n                }}>\r\n                  RECENTLY COMPLETED\r\n                </div>\r\n              )}\r\n\r\n              <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                  <span style={{ fontSize: '18px' }}>📍</span>\r\n                  <span style={{ fontWeight: '600', fontSize: '16px', color: '#374151' }}>\r\n                    {report.address}\r\n                  </span>\r\n                </div>\r\n                {getStatusBadge(report)}\r\n              </div>\r\n\r\n              <div\r\n                style={{\r\n                  display: 'grid',\r\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n                  gap: '16px',\r\n                  marginBottom: '16px',\r\n                  fontSize: '14px',\r\n                  color: '#6b7280',\r\n                }}\r\n              >\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n                  <span>🗑️</span>\r\n                  <span>Type: {report.waste_type}</span>\r\n                </div>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n                  <span>⚖️</span>\r\n                  <span>Amount: {report.estimated_amount}</span>\r\n                </div>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n                  <span>📅</span>\r\n                  <span>Reported: {formatDate(report.created_at)}</span>\r\n                </div>\r\n                {report.confidence && (\r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n                    <span>🎯</span>\r\n                    <span>Confidence: {Math.round(report.confidence * 100)}%</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Show reward information */}\r\n              {getRewardInfo(report)}\r\n\r\n              <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '16px' }}>\r\n                {getActionButton(report)}\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <div style={{ \r\n          marginTop: \"20px\", \r\n          display: \"flex\", \r\n          gap: \"8px\", \r\n          alignItems: \"center\", \r\n          justifyContent: \"center\",\r\n          flexWrap: \"wrap\"\r\n        }}>\r\n          <button \r\n            onClick={handlePrevious} \r\n            disabled={page === 1}\r\n            style={{\r\n              padding: '10px 16px',\r\n              backgroundColor: page === 1 ? '#f3f4f6' : '#3b82f6',\r\n              color: page === 1 ? '#9ca3af' : 'white',\r\n              border: 'none',\r\n              borderRadius: '6px',\r\n              cursor: page === 1 ? 'not-allowed' : 'pointer',\r\n              fontSize: '14px',\r\n              fontWeight: '500'\r\n            }}\r\n          >\r\n            Previous\r\n          </button>\r\n          \r\n          {/* Page Numbers */}\r\n          {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\r\n            let pageNum;\r\n            if (totalPages <= 5) {\r\n              pageNum = i + 1;\r\n            } else if (page <= 3) {\r\n              pageNum = i + 1;\r\n            } else if (page >= totalPages - 2) {\r\n              pageNum = totalPages - 4 + i;\r\n            } else {\r\n              pageNum = page - 2 + i;\r\n            }\r\n            \r\n            return (\r\n              <button\r\n                key={pageNum}\r\n                onClick={() => goToPage(pageNum)}\r\n                style={{\r\n                  padding: '10px 12px',\r\n                  backgroundColor: page === pageNum ? '#3b82f6' : 'white',\r\n                  color: page === pageNum ? 'white' : '#374151',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}\r\n              >\r\n                {pageNum}\r\n              </button>\r\n            );\r\n          })}\r\n          \r\n          <button \r\n            onClick={handleNext} \r\n            disabled={page >= totalPages}\r\n            style={{\r\n              padding: '10px 16px',\r\n              backgroundColor: page >= totalPages ? '#f3f4f6' : '#3b82f6',\r\n              color: page >= totalPages ? '#9ca3af' : 'white',\r\n              border: 'none',\r\n              borderRadius: '6px',\r\n              cursor: page >= totalPages ? 'not-allowed' : 'pointer',\r\n              fontSize: '14px',\r\n              fontWeight: '500'\r\n            }}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Verification Modal - Positioned at Top */}\r\n      {showVerificationModal && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.5)',\r\n            zIndex: 1000,\r\n            overflow: 'auto'\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: \"white\",\r\n              borderRadius: \"0 0 12px 12px\",\r\n              padding: \"30px\",\r\n              width: \"100%\",\r\n              maxWidth: \"600px\",\r\n              margin: \"0 auto\",\r\n              marginTop: \"60px\",\r\n              minHeight: \"auto\",\r\n              position: 'relative',\r\n              top: 0,\r\n              boxShadow: \"0 4px 20px rgba(0,0,0,0.3)\"\r\n            }}\r\n          >\r\n            <h3\r\n              style={{\r\n                margin: \"0 10px 16px 0\",\r\n                fontSize: \"20px\",\r\n                fontWeight: \"600\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Verify Waste Collection\r\n            </h3>\r\n\r\n            {selectedReport && (\r\n              <div\r\n                style={{\r\n                  backgroundColor: \"#f8fafc\",\r\n                  padding: \"16px\",\r\n                  borderRadius: \"8px\",\r\n                  marginBottom: \"20px\",\r\n                }}\r\n              >\r\n                <div style={{ fontSize: \"14px\", color: \"#374151\", marginBottom: \"8px\" }}>\r\n                  <strong>Location:</strong> {selectedReport.address}\r\n                </div>\r\n                <div style={{ fontSize: \"14px\", color: \"#374151\", marginBottom: \"8px\" }}>\r\n                  <strong>Waste Type:</strong> {selectedReport.waste_type}\r\n                </div>\r\n                <div style={{ fontSize: \"14px\", color: \"#374151\" }}>\r\n                  <strong>Amount:</strong> {selectedReport.estimated_amount}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {!verificationResult ? (\r\n              <>\r\n                <p\r\n                  style={{\r\n                    margin: \"0 0 20px 0\",\r\n                    color: \"#6b7280\",\r\n                    fontSize: \"14px\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Upload a photo of the collected waste to verify and earn your reward.\r\n                  The image will be compared with the original report.\r\n                </p>\r\n\r\n                <div style={{ marginBottom: \"24px\" }}>\r\n                  <label\r\n                    style={{\r\n                      display: \"block\",\r\n                      fontSize: \"14px\",\r\n                      fontWeight: \"500\",\r\n                      marginBottom: \"8px\",\r\n                      color: \"#374151\",\r\n                    }}\r\n                  >\r\n                    Upload Verification Image *\r\n                  </label>\r\n                  <div\r\n                    style={{\r\n                      border: \"2px dashed #d1d5db\",\r\n                      borderRadius: \"8px\",\r\n                      padding: \"40px 20px\",\r\n                      textAlign: \"center\",\r\n                      cursor: \"pointer\",\r\n                      backgroundColor: verificationImage ? \"#f0f9ff\" : \"#f9fafb\",\r\n                      transition: \"all 0.2s\",\r\n                    }}\r\n                    onClick={() => document.getElementById(\"verification-upload\").click()}\r\n                  >\r\n                    <div style={{ fontSize: \"48px\", marginBottom: \"12px\" }}>📤</div>\r\n                    <div\r\n                      style={{\r\n                        color: \"#374151\",\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"500\",\r\n                        marginBottom: \"4px\",\r\n                      }}\r\n                    >\r\n                      {verificationImage\r\n                        ? \"Image selected - Click to change\"\r\n                        : \"Click to upload image\"}\r\n                    </div>\r\n                    <div style={{ color: \"#9ca3af\", fontSize: \"12px\" }}>\r\n                      PNG, JPG, GIF up to 10MB\r\n                    </div>\r\n                    <input\r\n                      id=\"verification-upload\"\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleImageUpload}\r\n                      style={{ display: \"none\" }}\r\n                    />\r\n                  </div>\r\n\r\n                  {verificationImage && (\r\n                    <div style={{ marginTop: \"16px\", textAlign: \"center\" }}>\r\n                      <img\r\n                        src={verificationImage}\r\n                        alt=\"Verification preview\"\r\n                        style={{\r\n                          maxWidth: \"100%\",\r\n                          width: \"300px\",\r\n                          height: \"200px\",\r\n                          objectFit: \"cover\",\r\n                          borderRadius: \"8px\",\r\n                          border: \"1px solid #e5e7eb\",\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", gap: \"12px\" }}>\r\n                  <button\r\n                    onClick={closeModal}\r\n                    style={{\r\n                      backgroundColor: \"#f3f4f6\",\r\n                      color: \"#374151\",\r\n                      border: \"none\",\r\n                      borderRadius: \"8px\",\r\n                      padding: \"12px 24px\",\r\n                      fontSize: \"14px\",\r\n                      fontWeight: \"500\",\r\n                      cursor: \"pointer\",\r\n                      flex: 1,\r\n                    }}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleVerifyCollection}\r\n                    disabled={!verificationFile || loading}\r\n                    style={{\r\n                      backgroundColor:\r\n                        !verificationFile || loading ? \"#9ca3af\" : \"#10b981\",\r\n                      color: \"white\",\r\n                      border: \"none\",\r\n                      borderRadius: \"8px\",\r\n                      padding: \"12px 24px\",\r\n                      fontSize: \"14px\",\r\n                      fontWeight: \"500\",\r\n                      cursor: !verificationFile || loading ? \"not-allowed\" : \"pointer\",\r\n                      flex: 2,\r\n                    }}\r\n                  >\r\n                    {loading ? \"Verifying...\" : \"Verify Collection\"}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div style={{ textAlign: \"center\" }}>\r\n                <div\r\n                  style={{\r\n                    backgroundColor: verificationResult.verified\r\n                      ? \"#dcfce7\"\r\n                      : \"#fef2f2\",\r\n                    color: verificationResult.verified ? \"#065f46\" : \"#dc2626\",\r\n                    borderRadius: \"50%\",\r\n                    width: \"80px\",\r\n                    height: \"80px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    fontSize: \"32px\",\r\n                    margin: \"0 auto 20px\",\r\n                  }}\r\n                >\r\n                  {verificationResult.verified ? \"✓\" : \"✗\"}\r\n                </div>\r\n\r\n                <h4\r\n                  style={{\r\n                    margin: \"0 0 12px 0\",\r\n                    color: verificationResult.verified ? \"#065f46\" : \"#dc2626\",\r\n                    fontSize: \"18px\",\r\n                  }}\r\n                >\r\n                  {verificationResult.verified\r\n                    ? \"Verification Successful!\"\r\n                    : \"Verification Failed\"}\r\n                </h4>\r\n\r\n                <p\r\n                  style={{\r\n                    margin: \"0 0 16px 0\",\r\n                    color: \"#6b7280\",\r\n                    fontSize: \"14px\",\r\n                  }}\r\n                >\r\n                  {verificationResult.message}\r\n                </p>\r\n\r\n                {verificationResult.confidence > 0 && (\r\n                  <p\r\n                    style={{\r\n                      margin: \"0 0 16px 0\",\r\n                      color: \"#6b7280\",\r\n                      fontSize: \"14px\",\r\n                    }}\r\n                  >\r\n                    Confidence: {Math.round(verificationResult.confidence * 100)}%\r\n                  </p>\r\n                )}\r\n\r\n                {verificationResult.verified && verificationResult.points_earned && (\r\n                  <div\r\n                    style={{\r\n                      backgroundColor: \"#fef3c7\",\r\n                      border: \"1px solid #fcd34d\",\r\n                      borderRadius: \"8px\",\r\n                      padding: \"16px\",\r\n                      marginBottom: \"20px\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        fontSize: \"18px\",\r\n                        fontWeight: \"600\",\r\n                        color: \"#d97706\",\r\n                        marginBottom: \"4px\",\r\n                      }}\r\n                    >\r\n                      🎉 Congratulations!\r\n                    </div>\r\n                    <div style={{ fontSize: \"14px\", color: \"#92400e\" }}>\r\n                      You earned {verificationResult.points_earned} points!\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <button\r\n                  onClick={closeModal}\r\n                  style={{\r\n                    backgroundColor: \"#3b82f6\",\r\n                    color: \"white\",\r\n                    border: \"none\",\r\n                    borderRadius: \"8px\",\r\n                    padding: \"12px 32px\",\r\n                    fontSize: \"14px\",\r\n                    fontWeight: \"500\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  {verificationResult.verified ? \"Great!\" : \"Try Again\"}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectWaste;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}