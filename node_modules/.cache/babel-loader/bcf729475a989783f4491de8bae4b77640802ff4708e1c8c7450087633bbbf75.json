{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shrad\\\\OneDrive\\\\Desktop\\\\study\\\\garbage_segregation\\\\frontend\\\\src\\\\pages\\\\CollectWaste.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CollectWaste = ({\n  user\n}) => {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [filteredReports, setFilteredReports] = useState([]);\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [verificationImage, setVerificationImage] = useState(null);\n  const [verificationFile, setVerificationFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [fetchingReports, setFetchingReports] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showVerificationModal, setShowVerificationModal] = useState(false);\n  const [verificationResult, setVerificationResult] = useState(null);\n  useEffect(() => {\n    fetchReports();\n\n    // Function to remove completed reports older than 24 hours\n    const checkExpiredReports = () => {\n      const now = new Date().getTime();\n      const twentyFourHours = 24 * 60 * 60 * 1000;\n      setReports(prevReports => prevReports.filter(report => {\n        if (report.status === 'completed' && report.completedAt) {\n          const completedTime = new Date(report.completedAt).getTime();\n          return now - completedTime < twentyFourHours;\n        }\n        return true;\n      }));\n      setFilteredReports(prevReports => prevReports.filter(report => {\n        if (report.status === 'completed' && report.completedAt) {\n          const completedTime = new Date(report.completedAt).getTime();\n          return now - completedTime < twentyFourHours;\n        }\n        return true;\n      }));\n    };\n    checkExpiredReports();\n\n    // Re-check every hour\n    const intervalId = setInterval(checkExpiredReports, 60 * 60 * 1000);\n    return () => clearInterval(intervalId);\n  }, []);\n  useEffect(() => {\n    filterReports();\n  }, [reports, searchQuery]);\n  const filterReports = () => {\n    if (!searchQuery.trim()) {\n      setFilteredReports(reports);\n      return;\n    }\n    const query = searchQuery.toLowerCase();\n    const filtered = reports.filter(report => report.address.toLowerCase().includes(query) || report.waste_type.toLowerCase().includes(query));\n    setFilteredReports(filtered);\n  };\n  const fetchReports = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/reports?status=pending', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setReports(data.reports || []);\n        setFilteredReports(data.reports || []);\n      }\n    } catch (error) {\n      console.error('Error fetching reports:', error);\n      // Mock data when backend is offline\n      const mockReports = [{\n        _id: '1',\n        waste_type: 'mixed waste',\n        address: 'google',\n        estimated_amount: '50 kg',\n        confidence: 0.95,\n        created_at: '2024-09-05',\n        status: 'in progress',\n        image: 'mock_base64_image_data'\n      }, {\n        _id: '2',\n        waste_type: 'mixed waste',\n        address: 'Perugia, Province of Perugia, Italy',\n        estimated_amount: '100 kg',\n        confidence: 0.92,\n        created_at: '2024-09-11',\n        status: 'in progress',\n        image: 'mock_base64_image_data'\n      }, {\n        _id: '3',\n        waste_type: 'verified',\n        address: '2000 N Shoreline Blvd Ground Floor, Mountain View, CA 94043',\n        estimated_amount: '100 kg',\n        confidence: 0.98,\n        created_at: '2024-08-05',\n        status: 'verified',\n        image: 'mock_base64_image_data'\n      }];\n      setReports(mockReports);\n      setFilteredReports(mockReports);\n    } finally {\n      setFetchingReports(false);\n    }\n  };\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setVerificationFile(file);\n      const reader = new FileReader();\n      reader.onload = event => {\n        setVerificationImage(event.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSelectAndVerify = report => {\n    setSelectedReport(report);\n    setShowVerificationModal(true);\n    setVerificationImage(null);\n    setVerificationFile(null);\n    setVerificationResult(null);\n  };\n  const handleVerifyCollection = async () => {\n    if (!verificationFile) {\n      alert('Please upload an image first');\n      return;\n    }\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      formData.append('verification_image', verificationFile);\n      formData.append('report_id', selectedReport._id);\n      const response = await fetch('http://localhost:5000/api/collect-waste', {\n        method: 'POST',\n        headers: {\n          'Authorization': token\n        },\n        body: formData\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setVerificationResult(data);\n        alert(`Congratulations!! You earned ${data.pointsEarned} points`);\n        if (window.addNotification) {\n          window.addNotification({\n            title: 'Verification Successful',\n            message: `You earned ${data.pointsEarned} points`,\n            pointsEarned: data.pointsEarned\n          });\n        }\n        if (window.updateUserPoints) {\n          window.updateUserPoints(data.pointsEarned);\n        }\n        const updatedReports = reports.map(report => report._id === selectedReport._id ? {\n          ...report,\n          status: 'completed',\n          completedAt: new Date().toISOString(),\n          pointsEarned: data.pointsEarned\n        } : report);\n        setReports(updatedReports);\n      } else {\n        // Handle verification failure\n        setVerificationResult({\n          verified: false,\n          message: data.message || 'Verification failed',\n          confidence: data.confidence || 0\n        });\n        alert(data.message || 'Verification failed. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error verifying collection:', error);\n      alert('Error during verification. Please try again.');\n    }\n    setLoading(false);\n  };\n  const closeModal = () => {\n    setShowVerificationModal(false);\n    setSelectedReport(null);\n    setVerificationImage(null);\n    setVerificationFile(null);\n    setVerificationResult(null);\n  };\n  const getStatusBadge = status => {\n    const statusStyles = {\n      'in progress': {\n        bg: '#dbeafe',\n        color: '#1d4ed8',\n        text: 'In progress'\n      },\n      verified: {\n        bg: '#dcfce7',\n        color: '#059669',\n        text: 'Verified'\n      },\n      completed: {\n        bg: '#fef3c7',\n        color: '#d97706',\n        text: 'Completed'\n      }\n    };\n    const style = statusStyles[status] || statusStyles['in progress'];\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        backgroundColor: style.bg,\n        color: style.color,\n        padding: '4px 12px',\n        borderRadius: '12px',\n        fontSize: '12px',\n        fontWeight: '500'\n      },\n      children: style.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this);\n  };\n  const getActionButton = report => {\n    if (report.status === 'completed') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          backgroundColor: '#dcfce7',\n          color: '#059669',\n          padding: '8px 16px',\n          borderRadius: '8px',\n          fontSize: '14px',\n          fontWeight: '500'\n        },\n        children: \"Reward Earned\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.stopPropagation();\n        handleSelectAndVerify(report);\n      },\n      style: {\n        backgroundColor: '#3b82f6',\n        color: 'white',\n        border: 'none',\n        borderRadius: '8px',\n        padding: '8px 16px',\n        fontSize: '14px',\n        fontWeight: '500',\n        cursor: 'pointer'\n      },\n      children: \"Select & Verify\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this);\n  };\n  if (fetchingReports) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '40px',\n        textAlign: 'center',\n        fontFamily: 'Arial, sans-serif'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'inline-block',\n          width: '30px',\n          height: '30px',\n          border: '3px solid #f3f3f3',\n          borderTop: '3px solid #10b981',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite',\n          marginBottom: '20px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading available reports...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif',\n      backgroundColor: '#f5f5f5',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        padding: '12px 16px',\n        marginBottom: '20px',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search...\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        style: {\n          width: '100%',\n          border: 'none',\n          outline: 'none',\n          fontSize: '16px',\n          backgroundColor: 'transparent'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: filteredReports.map(report => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          padding: '16px',\n          marginBottom: '12px',\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n          border: '1px solid #e5e7eb'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '16px'\n              },\n              children: \"\\uD83D\\uDCCD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: '600',\n                fontSize: '16px'\n              },\n              children: report.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), getStatusBadge(report.status)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '20px',\n            marginBottom: '12px',\n            fontSize: '14px',\n            color: '#6b7280'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: report.waste_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2696\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Approximately \", report.estimated_amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDCC5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: report.created_at\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end'\n          },\n          children: getActionButton(report)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)]\n      }, report._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), showVerificationModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'flex-start',\n        justifyContent: 'center',\n        paddingTop: '60px',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          padding: '24px',\n          width: '90%',\n          maxWidth: '500px',\n          maxHeight: '90vh',\n          overflow: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 16px 0',\n            fontSize: '18px',\n            fontWeight: '600'\n          },\n          children: \"Verify Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0 0 20px 0',\n            color: '#6b7280',\n            fontSize: '14px'\n          },\n          children: \"Upload a photo of the collected waste to verify and earn your reward.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), !verificationResult ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: '14px',\n                fontWeight: '500',\n                marginBottom: '8px'\n              },\n              children: \"Upload Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '2px dashed #d1d5db',\n                borderRadius: '8px',\n                padding: '40px 20px',\n                textAlign: 'center',\n                cursor: 'pointer',\n                backgroundColor: verificationImage ? '#f0f9ff' : '#f9fafb'\n              },\n              onClick: () => document.getElementById('verification-upload').click(),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '32px',\n                  marginBottom: '8px'\n                },\n                children: \"\\uD83D\\uDCE4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#6b7280',\n                  fontSize: '14px'\n                },\n                children: verificationImage ? 'Image selected - Click to change' : 'Upload a file'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#9ca3af',\n                  fontSize: '12px',\n                  marginTop: '4px'\n                },\n                children: \"PNG, JPG, GIF up to 10MB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"verification-upload\",\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleImageUpload,\n                style: {\n                  display: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this), verificationImage && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '16px',\n                textAlign: 'center',\n                padding: '0 20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: verificationImage,\n                alt: \"Verification preview\",\n                style: {\n                  maxWidth: 'calc(100% - 40px)',\n                  width: '200px',\n                  height: '200px',\n                  objectFit: 'cover',\n                  borderRadius: '8px',\n                  border: '1px solid #e5e7eb',\n                  margin: '0 auto'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '12px',\n              justifyContent: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleVerifyCollection,\n              disabled: !verificationFile || loading,\n              style: {\n                backgroundColor: !verificationFile || loading ? '#9ca3af' : '#1f2937',\n                color: 'white',\n                border: 'none',\n                borderRadius: '6px',\n                padding: '12px 24px',\n                fontSize: '14px',\n                fontWeight: '500',\n                cursor: !verificationFile || loading ? 'not-allowed' : 'pointer',\n                flex: 1\n              },\n              children: loading ? 'Verifying...' : 'Verify Collection'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeModal,\n            style: {\n              backgroundColor: 'transparent',\n              border: 'none',\n              color: '#6b7280',\n              fontSize: '14px',\n              cursor: 'pointer',\n              width: '100%',\n              marginTop: '12px',\n              padding: '8px'\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#dcfce7',\n              color: '#065f46',\n              borderRadius: '50%',\n              width: '60px',\n              height: '60px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '24px',\n              margin: '0 auto 20px'\n            },\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: '0 0 8px 0',\n              color: '#1f2937'\n            },\n            children: \"Image Verified Successfully!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '0 0 16px 0',\n              color: '#6b7280',\n              fontSize: '14px'\n            },\n            children: [\"Confidence: \", Math.round(verificationResult.confidence * 100), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#fef3c7',\n              border: '1px solid #fcd34d',\n              borderRadius: '8px',\n              padding: '16px',\n              marginBottom: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '18px',\n                fontWeight: '600',\n                color: '#d97706',\n                marginBottom: '4px'\n              },\n              children: \"\\uD83C\\uDF89 Congratulations!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                color: '#92400e'\n              },\n              children: [\"You earned \", verificationResult.pointsEarned, \" points!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeModal,\n            style: {\n              backgroundColor: '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              padding: '12px 24px',\n              fontSize: '14px',\n              fontWeight: '500',\n              cursor: 'pointer'\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 5\n  }, this);\n};\n_s(CollectWaste, \"QPNXlRdqQHY/PWym5+7iFXsXRwM=\");\n_c = CollectWaste;\nexport default CollectWaste;\nvar _c;\n$RefreshReg$(_c, \"CollectWaste\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","CollectWaste","user","_s","reports","setReports","filteredReports","setFilteredReports","selectedReport","setSelectedReport","verificationImage","setVerificationImage","verificationFile","setVerificationFile","loading","setLoading","fetchingReports","setFetchingReports","searchQuery","setSearchQuery","showVerificationModal","setShowVerificationModal","verificationResult","setVerificationResult","fetchReports","checkExpiredReports","now","Date","getTime","twentyFourHours","prevReports","filter","report","status","completedAt","completedTime","intervalId","setInterval","clearInterval","filterReports","trim","query","toLowerCase","filtered","address","includes","waste_type","token","localStorage","getItem","response","fetch","headers","Authorization","ok","data","json","error","console","mockReports","_id","estimated_amount","confidence","created_at","image","handleImageUpload","e","file","target","files","reader","FileReader","onload","event","result","readAsDataURL","handleSelectAndVerify","handleVerifyCollection","alert","formData","FormData","append","method","body","pointsEarned","window","addNotification","title","message","updateUserPoints","updatedReports","map","toISOString","verified","closeModal","getStatusBadge","statusStyles","bg","color","text","completed","style","backgroundColor","padding","borderRadius","fontSize","fontWeight","children","fileName","_jsxFileName","lineNumber","columnNumber","getActionButton","onClick","stopPropagation","border","cursor","textAlign","fontFamily","display","width","height","borderTop","animation","marginBottom","minHeight","boxShadow","type","placeholder","value","onChange","outline","alignItems","justifyContent","gap","position","top","left","right","bottom","paddingTop","zIndex","maxWidth","maxHeight","overflow","margin","document","getElementById","click","marginTop","id","accept","src","alt","objectFit","disabled","flex","Math","round","_c","$RefreshReg$"],"sources":["C:/Users/shrad/OneDrive/Desktop/study/garbage_segregation/frontend/src/pages/CollectWaste.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst CollectWaste = ({ user }) => {\r\n  const [reports, setReports] = useState([]);\r\n  const [filteredReports, setFilteredReports] = useState([]);\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [verificationImage, setVerificationImage] = useState(null);\r\n  const [verificationFile, setVerificationFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fetchingReports, setFetchingReports] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showVerificationModal, setShowVerificationModal] = useState(false);\r\n  const [verificationResult, setVerificationResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n\r\n    // Function to remove completed reports older than 24 hours\r\n    const checkExpiredReports = () => {\r\n      const now = new Date().getTime();\r\n      const twentyFourHours = 24 * 60 * 60 * 1000;\r\n\r\n      setReports(prevReports =>\r\n        prevReports.filter(report => {\r\n          if (report.status === 'completed' && report.completedAt) {\r\n            const completedTime = new Date(report.completedAt).getTime();\r\n            return (now - completedTime) < twentyFourHours;\r\n          }\r\n          return true;\r\n        })\r\n      );\r\n\r\n      setFilteredReports(prevReports =>\r\n        prevReports.filter(report => {\r\n          if (report.status === 'completed' && report.completedAt) {\r\n            const completedTime = new Date(report.completedAt).getTime();\r\n            return (now - completedTime) < twentyFourHours;\r\n          }\r\n          return true;\r\n        })\r\n      );\r\n    };\r\n\r\n    checkExpiredReports();\r\n\r\n    // Re-check every hour\r\n    const intervalId = setInterval(checkExpiredReports, 60 * 60 * 1000);\r\n    return () => clearInterval(intervalId);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterReports();\r\n  }, [reports, searchQuery]);\r\n\r\n  const filterReports = () => {\r\n    if (!searchQuery.trim()) {\r\n      setFilteredReports(reports);\r\n      return;\r\n    }\r\n\r\n    const query = searchQuery.toLowerCase();\r\n    const filtered = reports.filter(\r\n      report =>\r\n        report.address.toLowerCase().includes(query) ||\r\n        report.waste_type.toLowerCase().includes(query)\r\n    );\r\n    setFilteredReports(filtered);\r\n  };\r\n\r\n  const fetchReports = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/reports?status=pending', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setReports(data.reports || []);\r\n        setFilteredReports(data.reports || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching reports:', error);\r\n      // Mock data when backend is offline\r\n      const mockReports = [\r\n        {\r\n          _id: '1',\r\n          waste_type: 'mixed waste',\r\n          address: 'google',\r\n          estimated_amount: '50 kg',\r\n          confidence: 0.95,\r\n          created_at: '2024-09-05',\r\n          status: 'in progress',\r\n          image: 'mock_base64_image_data',\r\n        },\r\n        {\r\n          _id: '2',\r\n          waste_type: 'mixed waste',\r\n          address: 'Perugia, Province of Perugia, Italy',\r\n          estimated_amount: '100 kg',\r\n          confidence: 0.92,\r\n          created_at: '2024-09-11',\r\n          status: 'in progress',\r\n          image: 'mock_base64_image_data',\r\n        },\r\n        {\r\n          _id: '3',\r\n          waste_type: 'verified',\r\n          address: '2000 N Shoreline Blvd Ground Floor, Mountain View, CA 94043',\r\n          estimated_amount: '100 kg',\r\n          confidence: 0.98,\r\n          created_at: '2024-08-05',\r\n          status: 'verified',\r\n          image: 'mock_base64_image_data',\r\n        },\r\n      ];\r\n      setReports(mockReports);\r\n      setFilteredReports(mockReports);\r\n    } finally {\r\n      setFetchingReports(false);\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = e => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setVerificationFile(file);\r\n      const reader = new FileReader();\r\n      reader.onload = event => {\r\n        setVerificationImage(event.target.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSelectAndVerify = report => {\r\n    setSelectedReport(report);\r\n    setShowVerificationModal(true);\r\n    setVerificationImage(null);\r\n    setVerificationFile(null);\r\n    setVerificationResult(null);\r\n  };\r\n\r\nconst handleVerifyCollection = async () => {\r\n  if (!verificationFile) {\r\n    alert('Please upload an image first');\r\n    return;\r\n  }\r\n\r\n  setLoading(true);\r\n\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    const formData = new FormData();\r\n    formData.append('verification_image', verificationFile);\r\n    formData.append('report_id', selectedReport._id);\r\n\r\n    const response = await fetch('http://localhost:5000/api/collect-waste', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': token,\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (response.ok) {\r\n      setVerificationResult(data);\r\n      \r\n      alert(`Congratulations!! You earned ${data.pointsEarned} points`);\r\n\r\n      if (window.addNotification) {\r\n        window.addNotification({\r\n          title: 'Verification Successful',\r\n          message: `You earned ${data.pointsEarned} points`,\r\n          pointsEarned: data.pointsEarned,\r\n        });\r\n      }\r\n\r\n      if (window.updateUserPoints) {\r\n        window.updateUserPoints(data.pointsEarned);\r\n      }\r\n\r\n      const updatedReports = reports.map(report =>\r\n        report._id === selectedReport._id\r\n          ? {\r\n              ...report,\r\n              status: 'completed',\r\n              completedAt: new Date().toISOString(),\r\n              pointsEarned: data.pointsEarned,\r\n            }\r\n          : report\r\n      );\r\n\r\n      setReports(updatedReports);\r\n    } else {\r\n      // Handle verification failure\r\n      setVerificationResult({\r\n        verified: false,\r\n        message: data.message || 'Verification failed',\r\n        confidence: data.confidence || 0\r\n      });\r\n      alert(data.message || 'Verification failed. Please try again.');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error verifying collection:', error);\r\n    alert('Error during verification. Please try again.');\r\n  }\r\n\r\n  setLoading(false);\r\n};\r\n\r\n  const closeModal = () => {\r\n    setShowVerificationModal(false);\r\n    setSelectedReport(null);\r\n    setVerificationImage(null);\r\n    setVerificationFile(null);\r\n    setVerificationResult(null);\r\n  };\r\n\r\n  const getStatusBadge = status => {\r\n    const statusStyles = {\r\n      'in progress': { bg: '#dbeafe', color: '#1d4ed8', text: 'In progress' },\r\n      verified: { bg: '#dcfce7', color: '#059669', text: 'Verified' },\r\n      completed: { bg: '#fef3c7', color: '#d97706', text: 'Completed' },\r\n    };\r\n\r\n    const style = statusStyles[status] || statusStyles['in progress'];\r\n\r\n    return (\r\n      <span\r\n        style={{\r\n          backgroundColor: style.bg,\r\n          color: style.color,\r\n          padding: '4px 12px',\r\n          borderRadius: '12px',\r\n          fontSize: '12px',\r\n          fontWeight: '500',\r\n        }}\r\n      >\r\n        {style.text}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getActionButton = report => {\r\n    if (report.status === 'completed') {\r\n      return (\r\n        <span\r\n          style={{\r\n            backgroundColor: '#dcfce7',\r\n            color: '#059669',\r\n            padding: '8px 16px',\r\n            borderRadius: '8px',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n          }}\r\n        >\r\n          Reward Earned\r\n        </span>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <button\r\n        onClick={e => {\r\n          e.stopPropagation();\r\n          handleSelectAndVerify(report);\r\n        }}\r\n        style={{\r\n          backgroundColor: '#3b82f6',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '8px',\r\n          padding: '8px 16px',\r\n          fontSize: '14px',\r\n          fontWeight: '500',\r\n          cursor: 'pointer',\r\n        }}\r\n      >\r\n        Select & Verify\r\n      </button>\r\n    );\r\n  };\r\n\r\n  if (fetchingReports) {\r\n    return (\r\n      <div style={{ padding: '40px', textAlign: 'center', fontFamily: 'Arial, sans-serif' }}>\r\n        <div\r\n          style={{\r\n            display: 'inline-block',\r\n            width: '30px',\r\n            height: '30px',\r\n            border: '3px solid #f3f3f3',\r\n            borderTop: '3px solid #10b981',\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite',\r\n            marginBottom: '20px',\r\n          }}\r\n        ></div>\r\n        <p>Loading available reports...</p>\r\n        <style>\r\n          {`\r\n            @keyframes spin {\r\n              0% { transform: rotate(0deg); }\r\n              100% { transform: rotate(360deg); }\r\n            }\r\n          `}\r\n        </style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif', backgroundColor: '#f5f5f5', minHeight: '100vh' }}>\r\n      {/* Search Bar */}\r\n      <div\r\n        style={{\r\n          backgroundColor: 'white',\r\n          borderRadius: '8px',\r\n          padding: '12px 16px',\r\n          marginBottom: '20px',\r\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n        }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n          value={searchQuery}\r\n          onChange={e => setSearchQuery(e.target.value)}\r\n          style={{ width: '100%', border: 'none', outline: 'none', fontSize: '16px', backgroundColor: 'transparent' }}\r\n        />\r\n      </div>\r\n\r\n      {/* Reports List */}\r\n      <div style={{ marginBottom: '20px' }}>\r\n        {filteredReports.map(report => (\r\n          <div\r\n            key={report._id}\r\n            style={{\r\n              backgroundColor: 'white',\r\n              borderRadius: '8px',\r\n              padding: '16px',\r\n              marginBottom: '12px',\r\n              boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n              border: '1px solid #e5e7eb',\r\n            }}\r\n          >\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <span style={{ fontSize: '16px' }}>üìç</span>\r\n                <span style={{ fontWeight: '600', fontSize: '16px' }}>{report.address}</span>\r\n              </div>\r\n              {getStatusBadge(report.status)}\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '20px',\r\n                marginBottom: '12px',\r\n                fontSize: '14px',\r\n                color: '#6b7280',\r\n              }}\r\n            >\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                <span>üóëÔ∏è</span>\r\n                <span>{report.waste_type}</span>\r\n              </div>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                <span>‚öñÔ∏è</span>\r\n                <span>Approximately {report.estimated_amount}</span>\r\n              </div>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                <span>üìÖ</span>\r\n                <span>{report.created_at}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end' }}>{getActionButton(report)}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Verification Modal */}\r\n      {showVerificationModal && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.5)',\r\n            display: 'flex',\r\n            alignItems: 'flex-start',\r\n            justifyContent: 'center',\r\n            paddingTop: '60px',\r\n            zIndex: 1000,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: 'white',\r\n              borderRadius: '8px',\r\n              padding: '24px',\r\n              width: '90%',\r\n              maxWidth: '500px',\r\n              maxHeight: '90vh',\r\n              overflow: 'auto',\r\n            }}\r\n          >\r\n            <h3 style={{ margin: '0 0 16px 0', fontSize: '18px', fontWeight: '600' }}>Verify Collection</h3>\r\n            <p style={{ margin: '0 0 20px 0', color: '#6b7280', fontSize: '14px' }}>\r\n              Upload a photo of the collected waste to verify and earn your reward.\r\n            </p>\r\n\r\n            {!verificationResult ? (\r\n              <>\r\n                <div style={{ marginBottom: '20px' }}>\r\n                  <label style={{ display: 'block', fontSize: '14px', fontWeight: '500', marginBottom: '8px' }}>\r\n                    Upload Image\r\n                  </label>\r\n                  <div\r\n                    style={{\r\n                      border: '2px dashed #d1d5db',\r\n                      borderRadius: '8px',\r\n                      padding: '40px 20px',\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      backgroundColor: verificationImage ? '#f0f9ff' : '#f9fafb',\r\n                    }}\r\n                    onClick={() => document.getElementById('verification-upload').click()}\r\n                  >\r\n                    <div style={{ fontSize: '32px', marginBottom: '8px' }}>üì§</div>\r\n                    <div style={{ color: '#6b7280', fontSize: '14px' }}>\r\n                      {verificationImage ? 'Image selected - Click to change' : 'Upload a file'}\r\n                    </div>\r\n                    <div style={{ color: '#9ca3af', fontSize: '12px', marginTop: '4px' }}>PNG, JPG, GIF up to 10MB</div>\r\n                    <input\r\n                      id=\"verification-upload\"\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleImageUpload}\r\n                      style={{ display: 'none' }}\r\n                    />\r\n                  </div>\r\n                  {verificationImage && (\r\n                    <div style={{ marginTop: '16px', textAlign: 'center', padding: '0 20px' }}>\r\n                      <img\r\n                        src={verificationImage}\r\n                        alt=\"Verification preview\"\r\n                        style={{\r\n                          maxWidth: 'calc(100% - 40px)',\r\n                          width: '200px',\r\n                          height: '200px',\r\n                          objectFit: 'cover',\r\n                          borderRadius: '8px',\r\n                          border: '1px solid #e5e7eb',\r\n                          margin: '0 auto',\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', gap: '12px', justifyContent: 'center' }}>\r\n                  <button\r\n                    onClick={handleVerifyCollection}\r\n                    disabled={!verificationFile || loading}\r\n                    style={{\r\n                      backgroundColor: !verificationFile || loading ? '#9ca3af' : '#1f2937',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '6px',\r\n                      padding: '12px 24px',\r\n                      fontSize: '14px',\r\n                      fontWeight: '500',\r\n                      cursor: !verificationFile || loading ? 'not-allowed' : 'pointer',\r\n                      flex: 1,\r\n                    }}\r\n                  >\r\n                    {loading ? 'Verifying...' : 'Verify Collection'}\r\n                  </button>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={closeModal}\r\n                  style={{\r\n                    backgroundColor: 'transparent',\r\n                    border: 'none',\r\n                    color: '#6b7280',\r\n                    fontSize: '14px',\r\n                    cursor: 'pointer',\r\n                    width: '100%',\r\n                    marginTop: '12px',\r\n                    padding: '8px',\r\n                  }}\r\n                >\r\n                  Close\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <div style={{ textAlign: 'center' }}>\r\n                <div\r\n                  style={{\r\n                    backgroundColor: '#dcfce7',\r\n                    color: '#065f46',\r\n                    borderRadius: '50%',\r\n                    width: '60px',\r\n                    height: '60px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    fontSize: '24px',\r\n                    margin: '0 auto 20px',\r\n                  }}\r\n                >\r\n                  ‚úì\r\n                </div>\r\n                <h4 style={{ margin: '0 0 8px 0', color: '#1f2937' }}>Image Verified Successfully!</h4>\r\n                <p style={{ margin: '0 0 16px 0', color: '#6b7280', fontSize: '14px' }}>\r\n                  Confidence: {Math.round(verificationResult.confidence * 100)}%\r\n                </p>\r\n                <div\r\n                  style={{\r\n                    backgroundColor: '#fef3c7',\r\n                    border: '1px solid #fcd34d',\r\n                    borderRadius: '8px',\r\n                    padding: '16px',\r\n                    marginBottom: '20px',\r\n                  }}\r\n                >\r\n                  <div style={{ fontSize: '18px', fontWeight: '600', color: '#d97706', marginBottom: '4px' }}>\r\n                    üéâ Congratulations!\r\n                  </div>\r\n                  <div style={{ fontSize: '14px', color: '#92400e' }}>\r\n                    You earned {verificationResult.pointsEarned} points!\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={closeModal}\r\n                  style={{\r\n                    backgroundColor: '#3b82f6',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '6px',\r\n                    padding: '12px 24px',\r\n                    fontSize: '14px',\r\n                    fontWeight: '500',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectWaste;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EACjC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,eAAe,EAAEC,kBAAkB,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACa,cAAc,EAAEC,iBAAiB,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACe,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAACiB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACqB,eAAe,EAAEC,kBAAkB,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACuB,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACyB,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EACzE,MAAM,CAAC2B,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAElEC,SAAS,CAAC,MAAM;IACd4B,YAAY,CAAC,CAAC;;IAEd;IACA,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;MAChC,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;MAChC,MAAMC,eAAe,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;MAE3CxB,UAAU,CAACyB,WAAW,IACpBA,WAAW,CAACC,MAAM,CAACC,MAAM,IAAI;QAC3B,IAAIA,MAAM,CAACC,MAAM,KAAK,WAAW,IAAID,MAAM,CAACE,WAAW,EAAE;UACvD,MAAMC,aAAa,GAAG,IAAIR,IAAI,CAACK,MAAM,CAACE,WAAW,CAAC,CAACN,OAAO,CAAC,CAAC;UAC5D,OAAQF,GAAG,GAAGS,aAAa,GAAIN,eAAe;QAChD;QACA,OAAO,IAAI;MACb,CAAC,CACH,CAAC;MAEDtB,kBAAkB,CAACuB,WAAW,IAC5BA,WAAW,CAACC,MAAM,CAACC,MAAM,IAAI;QAC3B,IAAIA,MAAM,CAACC,MAAM,KAAK,WAAW,IAAID,MAAM,CAACE,WAAW,EAAE;UACvD,MAAMC,aAAa,GAAG,IAAIR,IAAI,CAACK,MAAM,CAACE,WAAW,CAAC,CAACN,OAAO,CAAC,CAAC;UAC5D,OAAQF,GAAG,GAAGS,aAAa,GAAIN,eAAe;QAChD;QACA,OAAO,IAAI;MACb,CAAC,CACH,CAAC;IACH,CAAC;IAEDJ,mBAAmB,CAAC,CAAC;;IAErB;IACA,MAAMW,UAAU,GAAGC,WAAW,CAACZ,mBAAmB,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IACnE,OAAO,MAAMa,aAAa,CAACF,UAAU,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAENxC,SAAS,CAAC,MAAM;IACd2C,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACnC,OAAO,EAAEc,WAAW,CAAC,CAAC;EAE1B,MAAMqB,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI,CAACrB,WAAW,CAACsB,IAAI,CAAC,CAAC,EAAE;MACvBjC,kBAAkB,CAACH,OAAO,CAAC;MAC3B;IACF;IAEA,MAAMqC,KAAK,GAAGvB,WAAW,CAACwB,WAAW,CAAC,CAAC;IACvC,MAAMC,QAAQ,GAAGvC,OAAO,CAAC2B,MAAM,CAC7BC,MAAM,IACJA,MAAM,CAACY,OAAO,CAACF,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,KAAK,CAAC,IAC5CT,MAAM,CAACc,UAAU,CAACJ,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,KAAK,CAClD,CAAC;IACDlC,kBAAkB,CAACoC,QAAQ,CAAC;EAC9B,CAAC;EAED,MAAMnB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMuB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kDAAkD,EAAE;QAC/EC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUN,KAAK;QAChC;MACF,CAAC,CAAC;MAEF,IAAIG,QAAQ,CAACI,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;QAClCnD,UAAU,CAACkD,IAAI,CAACnD,OAAO,IAAI,EAAE,CAAC;QAC9BG,kBAAkB,CAACgD,IAAI,CAACnD,OAAO,IAAI,EAAE,CAAC;MACxC;IACF,CAAC,CAAC,OAAOqD,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C;MACA,MAAME,WAAW,GAAG,CAClB;QACEC,GAAG,EAAE,GAAG;QACRd,UAAU,EAAE,aAAa;QACzBF,OAAO,EAAE,QAAQ;QACjBiB,gBAAgB,EAAE,OAAO;QACzBC,UAAU,EAAE,IAAI;QAChBC,UAAU,EAAE,YAAY;QACxB9B,MAAM,EAAE,aAAa;QACrB+B,KAAK,EAAE;MACT,CAAC,EACD;QACEJ,GAAG,EAAE,GAAG;QACRd,UAAU,EAAE,aAAa;QACzBF,OAAO,EAAE,qCAAqC;QAC9CiB,gBAAgB,EAAE,QAAQ;QAC1BC,UAAU,EAAE,IAAI;QAChBC,UAAU,EAAE,YAAY;QACxB9B,MAAM,EAAE,aAAa;QACrB+B,KAAK,EAAE;MACT,CAAC,EACD;QACEJ,GAAG,EAAE,GAAG;QACRd,UAAU,EAAE,UAAU;QACtBF,OAAO,EAAE,6DAA6D;QACtEiB,gBAAgB,EAAE,QAAQ;QAC1BC,UAAU,EAAE,IAAI;QAChBC,UAAU,EAAE,YAAY;QACxB9B,MAAM,EAAE,UAAU;QAClB+B,KAAK,EAAE;MACT,CAAC,CACF;MACD3D,UAAU,CAACsD,WAAW,CAAC;MACvBpD,kBAAkB,CAACoD,WAAW,CAAC;IACjC,CAAC,SAAS;MACR1C,kBAAkB,CAAC,KAAK,CAAC;IAC3B;EACF,CAAC;EAED,MAAMgD,iBAAiB,GAAGC,CAAC,IAAI;IAC7B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,EAAE;MACRtD,mBAAmB,CAACsD,IAAI,CAAC;MACzB,MAAMG,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,MAAM,GAAGC,KAAK,IAAI;QACvB9D,oBAAoB,CAAC8D,KAAK,CAACL,MAAM,CAACM,MAAM,CAAC;MAC3C,CAAC;MACDJ,MAAM,CAACK,aAAa,CAACR,IAAI,CAAC;IAC5B;EACF,CAAC;EAED,MAAMS,qBAAqB,GAAG5C,MAAM,IAAI;IACtCvB,iBAAiB,CAACuB,MAAM,CAAC;IACzBX,wBAAwB,CAAC,IAAI,CAAC;IAC9BV,oBAAoB,CAAC,IAAI,CAAC;IAC1BE,mBAAmB,CAAC,IAAI,CAAC;IACzBU,qBAAqB,CAAC,IAAI,CAAC;EAC7B,CAAC;EAEH,MAAMsD,sBAAsB,GAAG,MAAAA,CAAA,KAAY;IACzC,IAAI,CAACjE,gBAAgB,EAAE;MACrBkE,KAAK,CAAC,8BAA8B,CAAC;MACrC;IACF;IAEA/D,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMgC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAM8B,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,oBAAoB,EAAErE,gBAAgB,CAAC;MACvDmE,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEzE,cAAc,CAACoD,GAAG,CAAC;MAEhD,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;QACtE+B,MAAM,EAAE,MAAM;QACd9B,OAAO,EAAE;UACP,eAAe,EAAEL;QACnB,CAAC;QACDoC,IAAI,EAAEJ;MACR,CAAC,CAAC;MAEF,MAAMxB,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MAElC,IAAIN,QAAQ,CAACI,EAAE,EAAE;QACf/B,qBAAqB,CAACgC,IAAI,CAAC;QAE3BuB,KAAK,CAAC,gCAAgCvB,IAAI,CAAC6B,YAAY,SAAS,CAAC;QAEjE,IAAIC,MAAM,CAACC,eAAe,EAAE;UAC1BD,MAAM,CAACC,eAAe,CAAC;YACrBC,KAAK,EAAE,yBAAyB;YAChCC,OAAO,EAAE,cAAcjC,IAAI,CAAC6B,YAAY,SAAS;YACjDA,YAAY,EAAE7B,IAAI,CAAC6B;UACrB,CAAC,CAAC;QACJ;QAEA,IAAIC,MAAM,CAACI,gBAAgB,EAAE;UAC3BJ,MAAM,CAACI,gBAAgB,CAAClC,IAAI,CAAC6B,YAAY,CAAC;QAC5C;QAEA,MAAMM,cAAc,GAAGtF,OAAO,CAACuF,GAAG,CAAC3D,MAAM,IACvCA,MAAM,CAAC4B,GAAG,KAAKpD,cAAc,CAACoD,GAAG,GAC7B;UACE,GAAG5B,MAAM;UACTC,MAAM,EAAE,WAAW;UACnBC,WAAW,EAAE,IAAIP,IAAI,CAAC,CAAC,CAACiE,WAAW,CAAC,CAAC;UACrCR,YAAY,EAAE7B,IAAI,CAAC6B;QACrB,CAAC,GACDpD,MACN,CAAC;QAED3B,UAAU,CAACqF,cAAc,CAAC;MAC5B,CAAC,MAAM;QACL;QACAnE,qBAAqB,CAAC;UACpBsE,QAAQ,EAAE,KAAK;UACfL,OAAO,EAAEjC,IAAI,CAACiC,OAAO,IAAI,qBAAqB;UAC9C1B,UAAU,EAAEP,IAAI,CAACO,UAAU,IAAI;QACjC,CAAC,CAAC;QACFgB,KAAK,CAACvB,IAAI,CAACiC,OAAO,IAAI,wCAAwC,CAAC;MACjE;IACF,CAAC,CAAC,OAAO/B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDqB,KAAK,CAAC,8CAA8C,CAAC;IACvD;IAEA/D,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAEC,MAAM+E,UAAU,GAAGA,CAAA,KAAM;IACvBzE,wBAAwB,CAAC,KAAK,CAAC;IAC/BZ,iBAAiB,CAAC,IAAI,CAAC;IACvBE,oBAAoB,CAAC,IAAI,CAAC;IAC1BE,mBAAmB,CAAC,IAAI,CAAC;IACzBU,qBAAqB,CAAC,IAAI,CAAC;EAC7B,CAAC;EAED,MAAMwE,cAAc,GAAG9D,MAAM,IAAI;IAC/B,MAAM+D,YAAY,GAAG;MACnB,aAAa,EAAE;QAAEC,EAAE,EAAE,SAAS;QAAEC,KAAK,EAAE,SAAS;QAAEC,IAAI,EAAE;MAAc,CAAC;MACvEN,QAAQ,EAAE;QAAEI,EAAE,EAAE,SAAS;QAAEC,KAAK,EAAE,SAAS;QAAEC,IAAI,EAAE;MAAW,CAAC;MAC/DC,SAAS,EAAE;QAAEH,EAAE,EAAE,SAAS;QAAEC,KAAK,EAAE,SAAS;QAAEC,IAAI,EAAE;MAAY;IAClE,CAAC;IAED,MAAME,KAAK,GAAGL,YAAY,CAAC/D,MAAM,CAAC,IAAI+D,YAAY,CAAC,aAAa,CAAC;IAEjE,oBACElG,OAAA;MACEuG,KAAK,EAAE;QACLC,eAAe,EAAED,KAAK,CAACJ,EAAE;QACzBC,KAAK,EAAEG,KAAK,CAACH,KAAK;QAClBK,OAAO,EAAE,UAAU;QACnBC,YAAY,EAAE,MAAM;QACpBC,QAAQ,EAAE,MAAM;QAChBC,UAAU,EAAE;MACd,CAAE;MAAAC,QAAA,EAEDN,KAAK,CAACF;IAAI;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAEX,CAAC;EAED,MAAMC,eAAe,GAAGhF,MAAM,IAAI;IAChC,IAAIA,MAAM,CAACC,MAAM,KAAK,WAAW,EAAE;MACjC,oBACEnC,OAAA;QACEuG,KAAK,EAAE;UACLC,eAAe,EAAE,SAAS;UAC1BJ,KAAK,EAAE,SAAS;UAChBK,OAAO,EAAE,UAAU;UACnBC,YAAY,EAAE,KAAK;UACnBC,QAAQ,EAAE,MAAM;UAChBC,UAAU,EAAE;QACd,CAAE;QAAAC,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAEX;IAEA,oBACEjH,OAAA;MACEmH,OAAO,EAAE/C,CAAC,IAAI;QACZA,CAAC,CAACgD,eAAe,CAAC,CAAC;QACnBtC,qBAAqB,CAAC5C,MAAM,CAAC;MAC/B,CAAE;MACFqE,KAAK,EAAE;QACLC,eAAe,EAAE,SAAS;QAC1BJ,KAAK,EAAE,OAAO;QACdiB,MAAM,EAAE,MAAM;QACdX,YAAY,EAAE,KAAK;QACnBD,OAAO,EAAE,UAAU;QACnBE,QAAQ,EAAE,MAAM;QAChBC,UAAU,EAAE,KAAK;QACjBU,MAAM,EAAE;MACV,CAAE;MAAAT,QAAA,EACH;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAEb,CAAC;EAED,IAAI/F,eAAe,EAAE;IACnB,oBACElB,OAAA;MAAKuG,KAAK,EAAE;QAAEE,OAAO,EAAE,MAAM;QAAEc,SAAS,EAAE,QAAQ;QAAEC,UAAU,EAAE;MAAoB,CAAE;MAAAX,QAAA,gBACpF7G,OAAA;QACEuG,KAAK,EAAE;UACLkB,OAAO,EAAE,cAAc;UACvBC,KAAK,EAAE,MAAM;UACbC,MAAM,EAAE,MAAM;UACdN,MAAM,EAAE,mBAAmB;UAC3BO,SAAS,EAAE,mBAAmB;UAC9BlB,YAAY,EAAE,KAAK;UACnBmB,SAAS,EAAE,yBAAyB;UACpCC,YAAY,EAAE;QAChB;MAAE;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACPjH,OAAA;QAAA6G,QAAA,EAAG;MAA4B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACnCjH,OAAA;QAAA6G,QAAA,EACG;AACX;AACA;AACA;AACA;AACA;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEV;EAEA,oBACEjH,OAAA;IAAKuG,KAAK,EAAE;MAAEE,OAAO,EAAE,MAAM;MAAEe,UAAU,EAAE,mBAAmB;MAAEhB,eAAe,EAAE,SAAS;MAAEuB,SAAS,EAAE;IAAQ,CAAE;IAAAlB,QAAA,gBAE/G7G,OAAA;MACEuG,KAAK,EAAE;QACLC,eAAe,EAAE,OAAO;QACxBE,YAAY,EAAE,KAAK;QACnBD,OAAO,EAAE,WAAW;QACpBqB,YAAY,EAAE,MAAM;QACpBE,SAAS,EAAE;MACb,CAAE;MAAAnB,QAAA,eAEF7G,OAAA;QACEiI,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,WAAW;QACvBC,KAAK,EAAE/G,WAAY;QACnBgH,QAAQ,EAAEhE,CAAC,IAAI/C,cAAc,CAAC+C,CAAC,CAACE,MAAM,CAAC6D,KAAK,CAAE;QAC9C5B,KAAK,EAAE;UAAEmB,KAAK,EAAE,MAAM;UAAEL,MAAM,EAAE,MAAM;UAAEgB,OAAO,EAAE,MAAM;UAAE1B,QAAQ,EAAE,MAAM;UAAEH,eAAe,EAAE;QAAc;MAAE;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7G;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGNjH,OAAA;MAAKuG,KAAK,EAAE;QAAEuB,YAAY,EAAE;MAAO,CAAE;MAAAjB,QAAA,EAClCrG,eAAe,CAACqF,GAAG,CAAC3D,MAAM,iBACzBlC,OAAA;QAEEuG,KAAK,EAAE;UACLC,eAAe,EAAE,OAAO;UACxBE,YAAY,EAAE,KAAK;UACnBD,OAAO,EAAE,MAAM;UACfqB,YAAY,EAAE,MAAM;UACpBE,SAAS,EAAE,2BAA2B;UACtCX,MAAM,EAAE;QACV,CAAE;QAAAR,QAAA,gBAEF7G,OAAA;UAAKuG,KAAK,EAAE;YAAEkB,OAAO,EAAE,MAAM;YAAEa,UAAU,EAAE,QAAQ;YAAEC,cAAc,EAAE,eAAe;YAAET,YAAY,EAAE;UAAO,CAAE;UAAAjB,QAAA,gBAC3G7G,OAAA;YAAKuG,KAAK,EAAE;cAAEkB,OAAO,EAAE,MAAM;cAAEa,UAAU,EAAE,QAAQ;cAAEE,GAAG,EAAE;YAAM,CAAE;YAAA3B,QAAA,gBAChE7G,OAAA;cAAMuG,KAAK,EAAE;gBAAEI,QAAQ,EAAE;cAAO,CAAE;cAAAE,QAAA,EAAC;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC5CjH,OAAA;cAAMuG,KAAK,EAAE;gBAAEK,UAAU,EAAE,KAAK;gBAAED,QAAQ,EAAE;cAAO,CAAE;cAAAE,QAAA,EAAE3E,MAAM,CAACY;YAAO;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1E,CAAC,EACLhB,cAAc,CAAC/D,MAAM,CAACC,MAAM,CAAC;QAAA;UAAA2E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC,eAENjH,OAAA;UACEuG,KAAK,EAAE;YACLkB,OAAO,EAAE,MAAM;YACfa,UAAU,EAAE,QAAQ;YACpBE,GAAG,EAAE,MAAM;YACXV,YAAY,EAAE,MAAM;YACpBnB,QAAQ,EAAE,MAAM;YAChBP,KAAK,EAAE;UACT,CAAE;UAAAS,QAAA,gBAEF7G,OAAA;YAAKuG,KAAK,EAAE;cAAEkB,OAAO,EAAE,MAAM;cAAEa,UAAU,EAAE,QAAQ;cAAEE,GAAG,EAAE;YAAM,CAAE;YAAA3B,QAAA,gBAChE7G,OAAA;cAAA6G,QAAA,EAAM;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChBjH,OAAA;cAAA6G,QAAA,EAAO3E,MAAM,CAACc;YAAU;cAAA8D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC,eACNjH,OAAA;YAAKuG,KAAK,EAAE;cAAEkB,OAAO,EAAE,MAAM;cAAEa,UAAU,EAAE,QAAQ;cAAEE,GAAG,EAAE;YAAM,CAAE;YAAA3B,QAAA,gBAChE7G,OAAA;cAAA6G,QAAA,EAAM;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACfjH,OAAA;cAAA6G,QAAA,GAAM,gBAAc,EAAC3E,MAAM,CAAC6B,gBAAgB;YAAA;cAAA+C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC,eACNjH,OAAA;YAAKuG,KAAK,EAAE;cAAEkB,OAAO,EAAE,MAAM;cAAEa,UAAU,EAAE,QAAQ;cAAEE,GAAG,EAAE;YAAM,CAAE;YAAA3B,QAAA,gBAChE7G,OAAA;cAAA6G,QAAA,EAAM;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACfjH,OAAA;cAAA6G,QAAA,EAAO3E,MAAM,CAAC+B;YAAU;cAAA6C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENjH,OAAA;UAAKuG,KAAK,EAAE;YAAEkB,OAAO,EAAE,MAAM;YAAEc,cAAc,EAAE;UAAW,CAAE;UAAA1B,QAAA,EAAEK,eAAe,CAAChF,MAAM;QAAC;UAAA4E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,GA1CvF/E,MAAM,CAAC4B,GAAG;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA2CZ,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAGL3F,qBAAqB,iBACpBtB,OAAA;MACEuG,KAAK,EAAE;QACLkC,QAAQ,EAAE,OAAO;QACjBC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE,CAAC;QACPC,KAAK,EAAE,CAAC;QACRC,MAAM,EAAE,CAAC;QACTrC,eAAe,EAAE,iBAAiB;QAClCiB,OAAO,EAAE,MAAM;QACfa,UAAU,EAAE,YAAY;QACxBC,cAAc,EAAE,QAAQ;QACxBO,UAAU,EAAE,MAAM;QAClBC,MAAM,EAAE;MACV,CAAE;MAAAlC,QAAA,eAEF7G,OAAA;QACEuG,KAAK,EAAE;UACLC,eAAe,EAAE,OAAO;UACxBE,YAAY,EAAE,KAAK;UACnBD,OAAO,EAAE,MAAM;UACfiB,KAAK,EAAE,KAAK;UACZsB,QAAQ,EAAE,OAAO;UACjBC,SAAS,EAAE,MAAM;UACjBC,QAAQ,EAAE;QACZ,CAAE;QAAArC,QAAA,gBAEF7G,OAAA;UAAIuG,KAAK,EAAE;YAAE4C,MAAM,EAAE,YAAY;YAAExC,QAAQ,EAAE,MAAM;YAAEC,UAAU,EAAE;UAAM,CAAE;UAAAC,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChGjH,OAAA;UAAGuG,KAAK,EAAE;YAAE4C,MAAM,EAAE,YAAY;YAAE/C,KAAK,EAAE,SAAS;YAAEO,QAAQ,EAAE;UAAO,CAAE;UAAAE,QAAA,EAAC;QAExE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,EAEH,CAACzF,kBAAkB,gBAClBxB,OAAA,CAAAE,SAAA;UAAA2G,QAAA,gBACE7G,OAAA;YAAKuG,KAAK,EAAE;cAAEuB,YAAY,EAAE;YAAO,CAAE;YAAAjB,QAAA,gBACnC7G,OAAA;cAAOuG,KAAK,EAAE;gBAAEkB,OAAO,EAAE,OAAO;gBAAEd,QAAQ,EAAE,MAAM;gBAAEC,UAAU,EAAE,KAAK;gBAAEkB,YAAY,EAAE;cAAM,CAAE;cAAAjB,QAAA,EAAC;YAE9F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACRjH,OAAA;cACEuG,KAAK,EAAE;gBACLc,MAAM,EAAE,oBAAoB;gBAC5BX,YAAY,EAAE,KAAK;gBACnBD,OAAO,EAAE,WAAW;gBACpBc,SAAS,EAAE,QAAQ;gBACnBD,MAAM,EAAE,SAAS;gBACjBd,eAAe,EAAE5F,iBAAiB,GAAG,SAAS,GAAG;cACnD,CAAE;cACFuG,OAAO,EAAEA,CAAA,KAAMiC,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAAC,CAAE;cAAAzC,QAAA,gBAEtE7G,OAAA;gBAAKuG,KAAK,EAAE;kBAAEI,QAAQ,EAAE,MAAM;kBAAEmB,YAAY,EAAE;gBAAM,CAAE;gBAAAjB,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC/DjH,OAAA;gBAAKuG,KAAK,EAAE;kBAAEH,KAAK,EAAE,SAAS;kBAAEO,QAAQ,EAAE;gBAAO,CAAE;gBAAAE,QAAA,EAChDjG,iBAAiB,GAAG,kCAAkC,GAAG;cAAe;gBAAAkG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtE,CAAC,eACNjH,OAAA;gBAAKuG,KAAK,EAAE;kBAAEH,KAAK,EAAE,SAAS;kBAAEO,QAAQ,EAAE,MAAM;kBAAE4C,SAAS,EAAE;gBAAM,CAAE;gBAAA1C,QAAA,EAAC;cAAwB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACpGjH,OAAA;gBACEwJ,EAAE,EAAC,qBAAqB;gBACxBvB,IAAI,EAAC,MAAM;gBACXwB,MAAM,EAAC,SAAS;gBAChBrB,QAAQ,EAAEjE,iBAAkB;gBAC5BoC,KAAK,EAAE;kBAAEkB,OAAO,EAAE;gBAAO;cAAE;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,EACLrG,iBAAiB,iBAChBZ,OAAA;cAAKuG,KAAK,EAAE;gBAAEgD,SAAS,EAAE,MAAM;gBAAEhC,SAAS,EAAE,QAAQ;gBAAEd,OAAO,EAAE;cAAS,CAAE;cAAAI,QAAA,eACxE7G,OAAA;gBACE0J,GAAG,EAAE9I,iBAAkB;gBACvB+I,GAAG,EAAC,sBAAsB;gBAC1BpD,KAAK,EAAE;kBACLyC,QAAQ,EAAE,mBAAmB;kBAC7BtB,KAAK,EAAE,OAAO;kBACdC,MAAM,EAAE,OAAO;kBACfiC,SAAS,EAAE,OAAO;kBAClBlD,YAAY,EAAE,KAAK;kBACnBW,MAAM,EAAE,mBAAmB;kBAC3B8B,MAAM,EAAE;gBACV;cAAE;gBAAArC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENjH,OAAA;YAAKuG,KAAK,EAAE;cAAEkB,OAAO,EAAE,MAAM;cAAEe,GAAG,EAAE,MAAM;cAAED,cAAc,EAAE;YAAS,CAAE;YAAA1B,QAAA,eACrE7G,OAAA;cACEmH,OAAO,EAAEpC,sBAAuB;cAChC8E,QAAQ,EAAE,CAAC/I,gBAAgB,IAAIE,OAAQ;cACvCuF,KAAK,EAAE;gBACLC,eAAe,EAAE,CAAC1F,gBAAgB,IAAIE,OAAO,GAAG,SAAS,GAAG,SAAS;gBACrEoF,KAAK,EAAE,OAAO;gBACdiB,MAAM,EAAE,MAAM;gBACdX,YAAY,EAAE,KAAK;gBACnBD,OAAO,EAAE,WAAW;gBACpBE,QAAQ,EAAE,MAAM;gBAChBC,UAAU,EAAE,KAAK;gBACjBU,MAAM,EAAE,CAACxG,gBAAgB,IAAIE,OAAO,GAAG,aAAa,GAAG,SAAS;gBAChE8I,IAAI,EAAE;cACR,CAAE;cAAAjD,QAAA,EAED7F,OAAO,GAAG,cAAc,GAAG;YAAmB;cAAA8F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENjH,OAAA;YACEmH,OAAO,EAAEnB,UAAW;YACpBO,KAAK,EAAE;cACLC,eAAe,EAAE,aAAa;cAC9Ba,MAAM,EAAE,MAAM;cACdjB,KAAK,EAAE,SAAS;cAChBO,QAAQ,EAAE,MAAM;cAChBW,MAAM,EAAE,SAAS;cACjBI,KAAK,EAAE,MAAM;cACb6B,SAAS,EAAE,MAAM;cACjB9C,OAAO,EAAE;YACX,CAAE;YAAAI,QAAA,EACH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,eACT,CAAC,gBAEHjH,OAAA;UAAKuG,KAAK,EAAE;YAAEgB,SAAS,EAAE;UAAS,CAAE;UAAAV,QAAA,gBAClC7G,OAAA;YACEuG,KAAK,EAAE;cACLC,eAAe,EAAE,SAAS;cAC1BJ,KAAK,EAAE,SAAS;cAChBM,YAAY,EAAE,KAAK;cACnBgB,KAAK,EAAE,MAAM;cACbC,MAAM,EAAE,MAAM;cACdF,OAAO,EAAE,MAAM;cACfa,UAAU,EAAE,QAAQ;cACpBC,cAAc,EAAE,QAAQ;cACxB5B,QAAQ,EAAE,MAAM;cAChBwC,MAAM,EAAE;YACV,CAAE;YAAAtC,QAAA,EACH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACNjH,OAAA;YAAIuG,KAAK,EAAE;cAAE4C,MAAM,EAAE,WAAW;cAAE/C,KAAK,EAAE;YAAU,CAAE;YAAAS,QAAA,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvFjH,OAAA;YAAGuG,KAAK,EAAE;cAAE4C,MAAM,EAAE,YAAY;cAAE/C,KAAK,EAAE,SAAS;cAAEO,QAAQ,EAAE;YAAO,CAAE;YAAAE,QAAA,GAAC,cAC1D,EAACkD,IAAI,CAACC,KAAK,CAACxI,kBAAkB,CAACwC,UAAU,GAAG,GAAG,CAAC,EAAC,GAC/D;UAAA;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJjH,OAAA;YACEuG,KAAK,EAAE;cACLC,eAAe,EAAE,SAAS;cAC1Ba,MAAM,EAAE,mBAAmB;cAC3BX,YAAY,EAAE,KAAK;cACnBD,OAAO,EAAE,MAAM;cACfqB,YAAY,EAAE;YAChB,CAAE;YAAAjB,QAAA,gBAEF7G,OAAA;cAAKuG,KAAK,EAAE;gBAAEI,QAAQ,EAAE,MAAM;gBAAEC,UAAU,EAAE,KAAK;gBAAER,KAAK,EAAE,SAAS;gBAAE0B,YAAY,EAAE;cAAM,CAAE;cAAAjB,QAAA,EAAC;YAE5F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACNjH,OAAA;cAAKuG,KAAK,EAAE;gBAAEI,QAAQ,EAAE,MAAM;gBAAEP,KAAK,EAAE;cAAU,CAAE;cAAAS,QAAA,GAAC,aACvC,EAACrF,kBAAkB,CAAC8D,YAAY,EAAC,UAC9C;YAAA;cAAAwB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNjH,OAAA;YACEmH,OAAO,EAAEnB,UAAW;YACpBO,KAAK,EAAE;cACLC,eAAe,EAAE,SAAS;cAC1BJ,KAAK,EAAE,OAAO;cACdiB,MAAM,EAAE,MAAM;cACdX,YAAY,EAAE,KAAK;cACnBD,OAAO,EAAE,WAAW;cACpBE,QAAQ,EAAE,MAAM;cAChBC,UAAU,EAAE,KAAK;cACjBU,MAAM,EAAE;YACV,CAAE;YAAAT,QAAA,EACH;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC5G,EAAA,CApjBIF,YAAY;AAAA8J,EAAA,GAAZ9J,YAAY;AAsjBlB,eAAeA,YAAY;AAAC,IAAA8J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}